{"version":3,"sources":["webpack:///geodrawer.js","webpack:///webpack/bootstrap e0196bd916482c2ff635","webpack:///./src/js/geodrawer.js","webpack:///./src/js/Tool.js","webpack:///./src/js/EventDispatcher.js","webpack:///./src/js/utils.js","webpack:///./src/js/CircleTool.js","webpack:///./src/js/Loader.js","webpack:///./src/js/Map.js","webpack:///./src/js/PointTool.js","webpack:///./src/js/PolygonTool.js","webpack:///./src/js/PolylineTool.js","webpack:///./src/scss/base.scss","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./src/scss/base.scss?f99a","webpack:///./src/svg/ic_point.svg"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_EventDispatcher","_EventDispatcher2","_Loader","_Loader2","_Map","_Map2","_PointTool","_PointTool2","_PolylineTool","_PolylineTool2","_PolygonTool","_PolygonTool2","_CircleTool","_CircleTool2","window","geodrawer","ready","callback","register","this","load","Map","PointTool","PolylineTool","PolygonTool","CircleTool","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_utils","_class","map","ctrl","toolName","_state","active","items","_map","_ctrl","_ctrlParam","_toolName","_nextShape","_options","maxItemsAllowed","jQuery","Error","sprintf","class","text","addDefaultCtrl","remove","item","push","max","parseInt","enable","_setController","on","setDrawing","bind","removeClass","addClass","console","info","removeCtrl","arguments","undefined","off","getDrawingTool","setDrawingTool","_removeController","prepareTool","updateTips","tipsText","EventDispatcher","_prefix","_listeners","evtName","_evtName2","_evtName","unregister","len","listener","splice","emit","params","l","capitalize","str","charAt","toUpperCase","slice","_len","args","Array","_key","replace","match","number","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_Tool2","_Tool3","_Tool","options","_this","_drawingCircle","_mapMoveListener","_circleMoveListener","extend","evt","_this2","circle","google","maps","Circle","center","latLng","gmap","radius","editable","event","addListener","evt2","setRadius","distance","addListenerOnce","removeListener","setMap","indexOf","alert","forEach","point1","point2","R","dLat","lat","Math","PI","dLon","lng","a","sin","cos","atan2","sqrt","d","data","getCenter","getRadius","dcircle","LatLng","addItem","bounds","getBounds","_typeof","Symbol","iterator","Loader","checkGoogleMapsApi","requirejQuery","then","script","document","createElement","type","readyState","onreadystatechange","onload","src","getElementsByTagName","appendChild","_dftOpts","zoom","tools","fullscreen","clearMapCtrl","exportMapCtrl","exportMapCb","geocoderMapField","tipsMapCtrl","canvas","_dom","container","css","width","controllersContainer","wrap","before","_supportedTools","drawingTool","_bounds","LatLngBounds","_ctrlContainer","_controllers","clearMap","clearMapCb","exportMap","tipsMap","geocoder","geocoderField","geocoderCenterButton","geocoderDrawButton","_processOptions","reverse","index","hasOwnProperty","handler","addTool","mapCenter","mapOptions","zoomControlOptions","style","ZoomControlStyle","LARGE","position","ControlPosition","RIGHT_CENTER","panControl","mapTypeControl","mapTypeControlOptions","LEFT_BOTTOM","mapTypeId","MapTypeId","ROADMAP","_geocoder","Geocoder","_mapClick","_setClearMapController","_setExportMapController","_setTipsMapController","_setGeocoderMapFieldController","_setFullscreenController","k","activate","appendTo","_initMapTips","placeholder","geocoderCenter","geocoderDraw","append","toggleClass","trigger","point","clickHandler","tool","getToolName","deactivate","_initMap","_initControllers","_initTools","prependTo","clear","html","setCenter","setZoom","_removeClearMapController","_removeExportMapController","_removeGeocoderMapField","_removeTipsMapController","_removeFullscreenController","exportData","_this3","getTool","Cls","ntool","importData","extendBounds","fitBounds","request","address","val","geocode","results","status","result","geometry","location","log","marker","Marker","draggable","getPosition","_activePolygonIndex","polygonPath","MVCArray","polygon","Polygon","path","polygonItem","shape","darr","ii","_activePolylineIndex","polylinePath","polyline","Polyline","polylineItem","list","toString","join","mediaQuery","alreadyImportedModules","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","media","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","insertBefore","firstChild","removeStyleElement","parentNode","removeChild","idx","createStyleElement","createLinkElement","linkElement","rel","update","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","href","applyToTag","newObj","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","setAttribute","unescape","encodeURIComponent","JSON","stringify","blob","oldSrc","memoize","fn","memo","apply","isOldIE","test","navigator","userAgent","toLowerCase","newList","mayRemove","textStore","replacement","filter","Boolean","content","locals"],"mappings":"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","file":"geodrawer.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _EventDispatcher = __webpack_require__(2);\n\t\n\tvar _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\n\t\n\tvar _Loader = __webpack_require__(5);\n\t\n\tvar _Loader2 = _interopRequireDefault(_Loader);\n\t\n\tvar _Map = __webpack_require__(6);\n\t\n\tvar _Map2 = _interopRequireDefault(_Map);\n\t\n\tvar _PointTool = __webpack_require__(7);\n\t\n\tvar _PointTool2 = _interopRequireDefault(_PointTool);\n\t\n\tvar _PolylineTool = __webpack_require__(9);\n\t\n\tvar _PolylineTool2 = _interopRequireDefault(_PolylineTool);\n\t\n\tvar _PolygonTool = __webpack_require__(8);\n\t\n\tvar _PolygonTool2 = _interopRequireDefault(_PolygonTool);\n\t\n\tvar _CircleTool = __webpack_require__(4);\n\t\n\tvar _CircleTool2 = _interopRequireDefault(_CircleTool);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t__webpack_require__(13);\n\t\n\twindow.geodrawer = {\n\t  ready: function ready(callback) {\n\t    _EventDispatcher2.default.register('geocoder-loaded', function () {\n\t      callback.call(this);\n\t    });\n\t    _Loader2.default.load();\n\t  },\n\t  Map: _Map2.default,\n\t  PointTool: _PointTool2.default,\n\t  PolylineTool: _PolylineTool2.default,\n\t  PolygonTool: _PolygonTool2.default,\n\t  CircleTool: _CircleTool2.default\n\t};\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(3);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\n\t * @summary Google maps drawing tool class.\n\t * @classdesc <p>This class is the superclass for all tools, extended by all specific tools.</p>\n\t *            <p><b>DO NOT INSTANTIATE THIS CLASS DIRECLTY</b>, use its children instead.</p>\n\t * @constructs geodrawer.Tool\n\t * @param {geodrawer.Map} map The Map instance which handles the tool\n\t * @param {String|Element} ctrl The selector or the element itself which controls the tool when clicking over it\n\t * @param {String} toolName The drawing tool name\n\t *\n\t */\n\t\n\tvar _class = function () {\n\t  function _class(map, ctrl, toolName) {\n\t    _classCallCheck(this, _class);\n\t\n\t    this._state = {\n\t      active: false,\n\t      items: [] // array storing all the drawed items\n\t    };\n\t    this._map = null;\n\t    this._ctrl = null;\n\t    // store the ctrl given, will be used when the tool is activated.\n\t    this._ctrlParam = ctrl;\n\t    this._toolName = null;\n\t\n\t    this._map = map;\n\t    this._toolName = toolName;\n\t\n\t    // next click has to begin a new shape?\n\t    this._nextShape = false;\n\t\n\t    this._options = {\n\t      maxItemsAllowed: 1\n\t    };\n\t  }\n\t\n\t  /**\n\t   * @summary Sets the tool controller\n\t   * @memberof geodrawer.Tool.prototype\n\t   * @param {String/Element} [ctrl=null]\n\t   *    The selector or jQuery element which serves as the tool controller,\n\t   *    if <code>null</code> the default controller is used.\n\t   * @return void\n\t   */\n\t\n\t\n\t  _createClass(_class, [{\n\t    key: '_setController',\n\t    value: function _setController(ctrl) {\n\t      if (ctrl) {\n\t        this._ctrl = jQuery(ctrl);\n\t        if (!this._ctrl.length) {\n\t          throw new Error((0, _utils.sprintf)('the given ctrl for the {0} tool is not a DOM element', this._toolName));\n\t        }\n\t      } else {\n\t        // default\n\t        this._ctrl = jQuery('<div />', {\n\t          'class': 'geodrawer-ctrl-' + this._toolName + '-tool'\n\t        }).text(this._toolName);\n\t        this._map.addDefaultCtrl(this._ctrl);\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Removes the default tool controller\n\t     * @memberof geodrawer.Tool.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: '_removeController',\n\t    value: function _removeController() {\n\t      this._ctrl.remove();\n\t      this._ctrl = null;\n\t    }\n\t\n\t    // PUBLIC METHODS (to be intended as public ;)\n\t\n\t    /**\n\t     * @summary Returns the tool name\n\t     * @memberof geodrawer.Tool.prototype\n\t     * @return {String} The tool name\n\t     */\n\t\n\t  }, {\n\t    key: 'getToolName',\n\t    value: function getToolName() {\n\t      return this._toolName;\n\t    }\n\t\n\t    /**\n\t     * @summary Adds an item to the items\n\t     * @memberof geodrawer.Tool.prototype\n\t     * @param {Object} item a google map shape\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'addItem',\n\t    value: function addItem(item) {\n\t      this._state.items.push(item);\n\t    }\n\t\n\t    /**\n\t     * @summary Sets the maximum number of items that the tool may draw\n\t     * @memberof geodrawer.Tool.prototype\n\t     * @param max The maximum number of drawable items\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'setMaxItemsAllowed',\n\t    value: function setMaxItemsAllowed(max) {\n\t      this._options.maxItemsAllowed = parseInt(max, 10);\n\t    }\n\t\n\t    /**\n\t     * @summary Sets the value of the next shape property (a new click starts a new shape if true)\n\t     * @memberof geodrawer.Tool.prototype\n\t     * @param enable Whether or not next click has to start a new shape\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'setNextShape',\n\t    value: function setNextShape(enable) {\n\t      this._nextShape = !!enable;\n\t    }\n\t\n\t    /**\n\t     * @summary Activates the tool\n\t     * @memberof geodrawer.Tool.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'activate',\n\t    value: function activate() {\n\t      this._state.active = true;\n\t\n\t      this._setController(this._ctrlParam);\n\t\n\t      this._ctrl.on('click', this.setDrawing.bind(this));\n\t      this._ctrl.removeClass('geodrawer-ctrl-inactive');\n\t      this._ctrl.addClass('geodrawer-ctrl-active');\n\t\n\t      console.info((0, _utils.sprintf)('geodrawer: {0} tool activated', this._toolName));\n\t    }\n\t\n\t    /**\n\t     * @summary Removes the tool\n\t     * @memberof geodrawer.Tool.prototype\n\t     * @param {Boolean} [removeCtrl=false] Whether or not to remove the tool control if the default one\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'deactivate',\n\t    value: function deactivate() {\n\t      var removeCtrl = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];\n\t\n\t      if (this._state.active) {\n\t        this._state.active = false;\n\t        this._ctrl.removeClass('geodrawer-ctrl-active');\n\t        this._ctrl.addClass('geodrawer-ctrl-inactive');\n\t        // @TODO check me!\n\t        this._ctrl.off('click', null, this.setDrawing);\n\t\n\t        if (this._map.getDrawingTool() === this) {\n\t          this._map.setDrawingTool(null);\n\t        }\n\t\n\t        if (removeCtrl && this._ctrlParam == null) {\n\t          this._removeController();\n\t        }\n\t\n\t        console.info((0, _utils.sprintf)('{0} tool deactivated', this._toolName));\n\t      } else {\n\t        if (removeCtrl && this._ctrlParam === null) {\n\t          this._removeController();\n\t        }\n\t        console.info((0, _utils.sprintf)('{0} tool already deactivated', this._toolName));\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Sets the current drawing tool\n\t     * @memberof geodrawer.Tool.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'setDrawing',\n\t    value: function setDrawing() {\n\t      this.prepareTool();\n\t      console.info('geodrawer: drawing tool: ' + this._toolName);\n\t      this._map.setDrawingTool(this);\n\t    }\n\t\n\t    /**\n\t     * @summary Prepares the current drawing tool\n\t     * @memberof geodrawer.Tool.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'prepareTool',\n\t    value: function prepareTool() {\n\t      this._map.updateTips(this.tipsText());\n\t    }\n\t  }]);\n\n\t  return _class;\n\t}();\n\n\texports.default = _class;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/*\n\t * @summary Event Dispatcher\n\t * @description Function which creates new EventDispatcher objects.\n\t *        Implementation follows the Mediator pattern\n\t * @return EventDispatcher instance\n\t */\n\tvar EventDispatcher = {\n\t  _prefix: 'on_',\n\t  _listeners: {},\n\t  /**\n\t   * @summary Adds a prefix to the event name\n\t   * @description Assures that event name doesn't match a standard Object property name\n\t   * @memberof EventDispatcher.prototype\n\t   * @return {String} prefixed event name\n\t   */\n\t  evtName: function evtName(_evtName2) {\n\t    return this._prefix + _evtName2;\n\t  },\n\t  /**\n\t   * @summary Registers a callback to an event\n\t   * @param {String} event_name name of the event\n\t   * @param {Mixed} bind the value of this provided to the callback\n\t   * @param {Function} callback function binded to the event\n\t   * @memberof EventDispatcher.prototype\n\t   */\n\t  register: function register(evtName, callback, bind) {\n\t    var _evtName = this.evtName(evtName);\n\t    if (typeof this._listeners[_evtName] === 'undefined') {\n\t      this._listeners[_evtName] = [];\n\t    }\n\t    this._listeners[_evtName].push([!bind ? this : bind, callback]);\n\t  },\n\t  /**\n\t   * @summary Unregisters one or all callbacks binded to the given event\n\t   * @param {String} event_name name of the event\n\t   * @param {Function} callback function to unregister. All callbacks if empty\n\t   * @memberof EventDispatcher.prototype\n\t   */\n\t  unregister: function unregister(evtName, callback) {\n\t    var _evtName = this.evtName();\n\t    if (typeof callback === 'undefined') {\n\t      delete this._listeners[_evtName];\n\t    } else {\n\t      for (var i = 0, len = this._listeners[_evtName].length; i < len; i++) {\n\t        var listener = this._listeners[_evtName][i];\n\t        if (listener[1] === callback) {\n\t          this._listeners[_evtName].splice(i, 1);\n\t        }\n\t      }\n\t    }\n\t  },\n\t  /**\n\t   * @summary Emits an event, all registered callbacks are called\n\t   * @param {String} event_name name of the event\n\t   * @param {Mixed} params additional parameters passed to the callback\n\t   * @memberof EventDispatcher.prototype\n\t   */\n\t  emit: function emit(evtName, params) {\n\t    var _evtName = this.evtName(evtName);\n\t    if (typeof this._listeners[_evtName] !== 'undefined') {\n\t      for (var i = 0, l = this._listeners[_evtName].length; i < l; i++) {\n\t        this._listeners[_evtName][i][1].call(this._listeners[_evtName][i][0], evtName, params);\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\texports.default = EventDispatcher;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.capitalize = capitalize;\n\texports.sprintf = sprintf;\n\tfunction capitalize(str) {\n\t  return str.charAt(0).toUpperCase() + str.slice(1);\n\t}\n\t\n\tfunction sprintf(str) {\n\t  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t    args[_key - 1] = arguments[_key];\n\t  }\n\t\n\t  return str.replace(/{(\\d+)}/g, function (match, number) {\n\t    return typeof args[number] !== 'undefined' ? args[number] : match;\n\t  });\n\t}\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _Tool2 = __webpack_require__(1);\n\t\n\tvar _Tool3 = _interopRequireDefault(_Tool2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t/**\n\t * @summary Google maps drawing circle tool class. Provides methods to draw over the {@link geodrawer.Map} instance\n\t * @classdesc <p>The circle drawing tool class, which allows to draw circles over the gmapdraw map instance.</p>\n\t * @constructs geodrawer.CircleTool\n\t * @extends geodrawer.Tool\n\t * @param {geodrawer.Map} map The map instance which handles the tool\n\t * @param {String|Object} ctrl The selector or the jQuery element which controls the tool when clicking over it\n\t * @param {Object} options A class options object\n\t * @param {Number} [options.maxItemsAllowed=1] The maximum number of shapes the tool may draw.\n\t */\n\t\n\tvar CircleTool = function (_Tool) {\n\t  _inherits(CircleTool, _Tool);\n\t\n\t  function CircleTool(map, ctrl, options) {\n\t    _classCallCheck(this, CircleTool);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(CircleTool).call(this, map, ctrl, 'circle'));\n\t\n\t    _this._drawingCircle = null;\n\t    _this._mapMoveListener = null;\n\t    _this._circleMoveListener = null;\n\t\n\t    _this._options = jQuery.extend({}, _this._options, options);\n\t    return _this;\n\t  }\n\t\n\t  /**\n\t   * @summary Returns the tool help tip text\n\t   * @memberof geodrawer.CircleTool.prototype\n\t   * @return {String} The tips text\n\t   */\n\t\n\t\n\t  _createClass(CircleTool, [{\n\t    key: 'tipsText',\n\t    value: function tipsText() {\n\t      return 'Click on the map to add circles. Right click on existing circles to delete them.';\n\t    }\n\t\n\t    /**\n\t     * @summary Prepares the tool\n\t     * @memberof geodrawer.CircleTool.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'prepareTool',\n\t    value: function prepareTool() {\n\t      _get(Object.getPrototypeOf(CircleTool.prototype), 'prepareTool', this).call(this);\n\t      this._nextShape = true;\n\t    }\n\t\n\t    /**\n\t     * @summary Handles the click event over the map when the tool is the drawing one\n\t     * @memberof geodrawer.CircleTool.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'clickHandler',\n\t    value: function clickHandler(evt) {\n\t      var _this2 = this;\n\t\n\t      // if next shape && maximum shape number is not reached\n\t      if (this._nextShape && this._state.items.length < this._options.maxItemsAllowed) {\n\t        (function () {\n\t          var circle = new google.maps.Circle({\n\t            center: evt.latLng,\n\t            map: _this2._map.gmap(),\n\t            radius: 1,\n\t            editable: true\n\t          });\n\t          _this2._drawingCircle = true;\n\t\n\t          // enlarge\n\t          _this2._mapMoveListener = google.maps.event.addListener(_this2._map.gmap(), 'mousemove', function (evt2) {\n\t            circle.setRadius(_this2.distance(evt.latLng, evt2.latLng));\n\t          });\n\t          // reduce\n\t          _this2._circleMoveListener = google.maps.event.addListener(circle, 'mousemove', function (evt2) {\n\t            circle.setRadius(_this2.distance(evt.latLng, evt2.latLng));\n\t          });\n\t          // end\n\t\n\t          google.maps.event.addListenerOnce(circle, 'click', function (evt2) {\n\t            google.maps.event.removeListener(_this2._mapMoveListener);\n\t            google.maps.event.removeListener(_this2._circleMoveListener);\n\t            _this2._drawingCircle = false;\n\t          });\n\t\n\t          _this2._state.items.push(circle);\n\t\n\t          // right click to delete one\n\t          google.maps.event.addListener(circle, 'rightclick', function () {\n\t            circle.setMap(null);\n\t            _this2._state.items.splice(_this2._state.items.indexOf(circle), 1);\n\t            _this2._nextShape = true; // otherwise next click will populate the last polyline\n\t          });\n\t        })();\n\t      } else if (!this._drawingCircle && this._state.items.length >= this._options.maxItemsAllowed) {\n\t        console.info('maximum number of circles reached');\n\t        alert('Maximum number of insertable circles reached');\n\t        return null;\n\t      } else {\n\t        // currently drawing\n\t        google.maps.event.removeListener(this._mapMoveListener);\n\t        google.maps.event.removeListener(this._circleMoveListener);\n\t        this._drawingCircle = false;\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Clears all circles\n\t     * @memberof geodrawer.CircleTool.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'clear',\n\t    value: function clear() {\n\t      this._state.items.forEach(function (circle) {\n\t        circle.setMap(null);\n\t      });\n\t      this._state.items = [];\n\t      console.info('circles cleared');\n\t    }\n\t\n\t    /**\n\t     * @summary Returns the distance between 2 google.maps.LatLng points\n\t     * @memberof geodrawer.CircleTool.prototype\n\t     * @param {google.maps.LatLng} point1 The first point\n\t     * @param {google.maps.LatLng} point2 The second point\n\t     * @return {Number} The distance in meters\n\t     */\n\t\n\t  }, {\n\t    key: 'distance',\n\t    value: function distance(point1, point2) {\n\t      var R = 6371000; // earth's radius in meters\n\t      var dLat = (point2.lat() - point1.lat()) * Math.PI / 180;\n\t      var dLon = (point2.lng() - point1.lng()) * Math.PI / 180;\n\t      var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(point1.lat() * Math.PI / 180) * Math.cos(point2.lat() * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n\t      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\t      var d = R * c;\n\t\n\t      return d;\n\t    }\n\t\n\t    /**\n\t     * @summary Returns all the drawn circles data\n\t     * @memberof geodrawer.CircleTool.prototype\n\t     * @return {Array} data An array objects representing the circle's properties\n\t     * @example\n\t     *    [{lat: 45, lng: 7, radius: 40000}, {lat: 35, lng: 15, radius: 650000}]\n\t     */\n\t\n\t  }, {\n\t    key: 'exportData',\n\t    value: function exportData() {\n\t      var data = this._state.items.map(function (circle) {\n\t        return { lat: circle.getCenter().lat(), lng: circle.getCenter().lng(), radius: circle.getRadius() };\n\t      });\n\t      return data;\n\t    }\n\t\n\t    /**\n\t     * @summary Imports all data as circles\n\t     * @memberof geodrawer.CircleTool.prototype\n\t     * @param {Array} data An array objects representing the circle's properties\n\t     */\n\t\n\t  }, {\n\t    key: 'importData',\n\t    value: function importData(data) {\n\t      for (var i = 0; i < data.length; i++) {\n\t        var circle = data[i];\n\t        var dcircle = new google.maps.Circle({\n\t          center: new google.maps.LatLng(circle.lat, circle.lng),\n\t          map: this._map.gmap(),\n\t          radius: circle.radius,\n\t          editable: true\n\t        });\n\t\n\t        this.addItem(dcircle);\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Extends the map bounds to fit the circles\n\t     * @memberof geodrawer.CircleTool.prototype\n\t     * @param {google.maps.LatLngBounds} [bounds] the LatLngBounds object\n\t     */\n\t\n\t  }, {\n\t    key: 'extendBounds',\n\t    value: function extendBounds(bounds) {\n\t      this._state.items.forEach(function (circle) {\n\t        bounds.extend(circle.getBounds());\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return CircleTool;\n\t}(_Tool3.default);\n\t\n\texports.default = CircleTool;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _EventDispatcher = __webpack_require__(2);\n\t\n\tvar _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Library loader\n\t */\n\tvar Loader = {\n\t  /**\n\t   * Loads the library and emits an event when loaded\n\t   * The event emitted is 'geocoder-loaded'\n\t   */\n\t  load: function load() {\n\t    this.checkGoogleMapsApi();\n\t    this.requirejQuery(function () {\n\t      console.info('geodrawer: library is ready');\n\t      _EventDispatcher2.default.emit('geocoder-loaded');\n\t    });\n\t  },\n\t  /**\n\t   * Checks if the google maps API is loaded\n\t   */\n\t  checkGoogleMapsApi: function checkGoogleMapsApi() {\n\t    if (!(_typeof(window.google) === 'object' && _typeof(window.google.maps) === 'object')) {\n\t      console.info('geodrawer: Google Maps API must be loaded at this point!');\n\t      throw new Error('Google Maps API are not loaded yet!');\n\t    }\n\t  },\n\t  /**\n\t   * Checks if jQuery is loaded, if not loads it, and then execute the cb\n\t   * @param {Function} then callback to execute after jQuery is fully loaded\n\t   */\n\t  requirejQuery: function requirejQuery(then) {\n\t    if (window.jQuery === undefined) {\n\t      (function () {\n\t        console.info('geodrawer: loading jQuery');\n\t        var script = document.createElement('script');\n\t        script.type = 'text/javascript';\n\t        if (script.readyState) {\n\t          // IE\n\t          script.onreadystatechange = function () {\n\t            if (script.readyState === 'loaded' || script.readyState === 'complete') {\n\t              script.onreadystatechange = null;\n\t              then.call(this);\n\t            }\n\t          };\n\t        } else {\n\t          // Others\n\t          script.onload = function () {\n\t            then.call(this);\n\t          };\n\t        }\n\t        script.src = 'https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js';\n\t        document.getElementsByTagName('head')[0].appendChild(script);\n\t      })();\n\t    } else {\n\t      then();\n\t    }\n\t  }\n\t};\n\t\n\texports.default = Loader;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(3);\n\t\n\tvar _Tool = __webpack_require__(1);\n\t\n\tvar _Tool2 = _interopRequireDefault(_Tool);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t// default options\n\tvar _dftOpts = {\n\t  center: [45, 7],\n\t  zoom: 8,\n\t  tools: {},\n\t  fullscreen: true,\n\t  clearMapCtrl: 'default',\n\t  exportMapCtrl: 'default',\n\t  exportMapCb: null,\n\t  geocoderMapField: true,\n\t  tipsMapCtrl: 'default'\n\t};\n\t\n\t/**\n\t * @summary Google maps drawing class, provides tools for drawing over a google map canvas, and export drawn data.\n\t * @classdesc\n\t *      <p>This class handles the drawing tools used to draw over a google map and allows\n\t *      data exportation.</p>\n\t *      <p>The map manages also some controllers</p>\n\t *      <ul>\n\t *      <li>clear map controller</li>\n\t *      <li>export map controller</li>\n\t *      <li>geocoder text field controller</li>\n\t *      <li>tips controller</li>\n\t *      </ul>\n\t *      <p>Moreover every drawing tool has its own controller, which may be specifically set or used in\n\t *      its default form.</p>\n\t *      <p>Each map controller may be specified as custom, may be removed by setting the\n\t *      related option to <code>null</code> or used in its default form.</p>\n\t *      <p>Once instantiated the class and set the tools by options or instantiating direclty\n\t *      the drawing tool classes and adding them to the map,\n\t *      see {@link geodrawer.Map#addTool}, call the render method in order to render the widget.<br />\n\t *      It is possible to continue configuring the widget adding or removing tools and\n\t *      customize the google map instance which is returned by the {@link geodrawer.Map#gmap} method.</p>\n\t *      <p>When defining specific map controllers, be sure to make them handle the proper map methods.</p>\n\t *      <p>Very important: be sure to load the google maps library yourself in the head of the document!</p>\n\t *\n\t * @constructs geodrawer.Map\n\t * @param {Element|String} canvas\n\t *    The map container element as selector or jQuery element\n\t * @param {Object} [options]\n\t *    A class options object\n\t * @param {Array} [options.center=new Array(45, 7)]\n\t *    The initial map center coordinates, (lat, lng).\n\t * @param {Number} [options.zoom=8]\n\t *    The the initial map zoom level.\n\t * @param {Object} [options.tools={}]\n\t *    The object containing the tool's names and options to be activated\n\t *    when initializing the map.\n\t *    It's a shortcut to easily define set and active tools objects.\n\t * @param {Number} [options.fullscreen=true]\n\t *    Whether or not to enable fullscreen functionality\n\t * @param {Object} [options.tools.point=undefined]\n\t *    The point tool init object\n\t * @param {String|Element} [options.tools.point.ctrl=undefined]\n\t *    The selector or jQuery element\n\t *    which controls the tool, default the built-in menu voice\n\t * @param {Object} [options.tools.point.options=undefined]\n\t *    The tool options object,\n\t *    see {@link geodrawer.PointTool} for available properties\n\t * @param {Object} [options.tools.polyline=undefined]\n\t *    The polyline tool init object\n\t * @param {String|Element} [options.tools.polyline.ctrl=undefined]\n\t *    The selector or jQuery element which controls the tool,\n\t *    default the built-in menu voice\n\t * @param {Object} [options.tools.polyline.options=undefined]\n\t *    The tool options object, see {@link geodrawer.PolylineTool} for available properties\n\t * @param {Object} [options.tools.polygon=undefined]\n\t *    The polygon tool init object\n\t * @param {String|Element} [options.tools.polygon.ctrl=undefined]\n\t *    The selector or jQuery element which controls the tool, default the built-in menu voice\n\t * @param {Object} [options.tools.polygon.options=undefined]\n\t *    The tool options object, see {@link geodrawer.PolygonTool} for available properties\n\t * @param {Object} [options.tools.circle=undefined]\n\t *    The circle tool init object\n\t * @param {String|Element} [options.tools.circle.ctrl=undefined]\n\t *    The selctor or jQuery element which controls the tool, default the built-in menu voice\n\t * @param {Object} [options.tools.circle.options=undefined]\n\t *    The tool options object, see {@link geodrawer.CircleTool} for available properties\n\t * @param {String|Element} [options.clearMapCtrl='default']\n\t *    The clear map controller (clears all drawings over the map).\n\t *    If 'default' the built-in controller is used, if <code>null</code> the clear map\n\t *    functionality is removed. If id attribute or an element the clear map functionality is attached to the element.\n\t * @param {String|Element} [options.exportMapCtrl='default']\n\t *    The export map controller (exports all shapes drawed over the map).\n\t *    If 'default' the built-in controller is used, if <code>null</code> the export map\n\t *    functionality is removed. If id attribute or an element the clear map functionality is attached to the element.\n\t * @param {Function} [options.exportMapCb=null]\n\t *    The callback function to call when the export map button is pressed.\n\t *    The callback function receives one argument, the exported data as\n\t *    returned by the geodrawer.Map#exportMap method.\n\t * @param {Boolean} [options.geocoderMapField=true]\n\t *    Whether or not to add the gecoder functionality which allows to center the map in a point\n\t *    defined through an address, or to pass the lat,lng coordinates found to the map click handlers\n\t *    (exactly as click over the map in a lat,lng point).\n\t * @param {String|Element} [options.tipsMapCtrl='default']\n\t *    The help tips map controller (shows tips about drawing tools).\n\t *    If 'default' the built-in controller is used, if <code>null</code> the tips box is not shown,\n\t *    if id attribute or an element the functionality is attached to the element.\n\t *\n\t * @example\n\t * var mymap = new geodrawer.Map('my_map_canvas_id', {\n\t *   tools: {\n\t *     point: {\n\t *       options: {\n\t *         max_items: 5\n\t *       }\n\t *     },\n\t *     circle: {}\n\t *   }\n\t * });\n\t *\n\t */\n\t\n\tvar Map = function () {\n\t  function Map(canvas, options) {\n\t    _classCallCheck(this, Map);\n\t\n\t    this._dom = {};\n\t    this._dom.canvas = jQuery(canvas).addClass('geodrawer-map-canvas');\n\t    // check canvas exists\n\t    if (!this._dom.canvas.length) {\n\t      throw new Error('Canvas container not found!');\n\t    }\n\t\n\t    // wrap canvas inside a container and add controllers container\n\t    this._dom.container = jQuery('<div />', { 'class': 'geodrawer-container' }).css({\n\t      width: this._dom.canvas.css('width')\n\t    });\n\t    this._dom.controllersContainer = jQuery('<div />', { 'class': 'geodrawer-ctrls-container' });\n\t    this._dom.container = this._dom.canvas.wrap(this._dom.container).before(this._dom.controllersContainer).parent();\n\t\n\t    // let's extend default options\n\t    this._options = jQuery.extend({}, _dftOpts, options);\n\t\n\t    this._supportedTools = ['point', 'polyline', 'polygon', 'circle'];\n\t\n\t    // internal state\n\t    this._state = {\n\t      drawingTool: null, // actual drawing tool\n\t      tools: [] // available tools\n\t    };\n\t\n\t    this._map = null;\n\t    // when importing data we need bounds to fit them into the map\n\t    this._bounds = new google.maps.LatLngBounds();\n\t\n\t    // controllers\n\t    this._ctrlContainer = null;\n\t    this._controllers = {\n\t      clearMap: null,\n\t      clearMapCb: null,\n\t      exportMap: null,\n\t      exportMapCb: null,\n\t      tipsMap: null,\n\t      geocoder: null,\n\t      geocoderField: null,\n\t      geocoderCenterButton: null,\n\t      geocoderDrawButton: null,\n\t      fullscreen: null\n\t    };\n\t\n\t    // check options!\n\t    this._processOptions();\n\t  }\n\t\n\t  _createClass(Map, [{\n\t    key: '_processOptions',\n\t\n\t\n\t    /**\n\t     * Processes the options object setting properly some class properties\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return void\n\t     */\n\t    value: function _processOptions() {\n\t      // init tools\n\t      var self = this;\n\t      this._supportedTools.reverse().forEach(function (toolName, index) {\n\t        if (self._options.tools.hasOwnProperty(toolName)) {\n\t          var handler = null;\n\t          var ctrl = self._options.tools[toolName].ctrl || null;\n\t          // set tool\n\t          if (ctrl) {\n\t            handler = jQuery(ctrl);\n\t            if (!handler.length) {\n\t              throw new Error((0, _utils.sprintf)('The given control handler for the {0} tool is not a DOM element', toolName));\n\t            }\n\t          }\n\t          // add the tool\n\t          self.addTool(new geodrawer[(0, _utils.capitalize)(toolName) + 'Tool'](self, handler, self._options.tools[toolName].options || null));\n\t        }\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Initializes the google map and its events\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: '_initMap',\n\t    value: function _initMap() {\n\t      var _this = this;\n\t\n\t      var mapCenter = new google.maps.LatLng(this._options.center[0], this._options.center[1]);\n\t      var mapOptions = {\n\t        center: mapCenter,\n\t        zoom: this._options.zoom,\n\t        zoomControlOptions: {\n\t          style: google.maps.ZoomControlStyle.LARGE,\n\t          position: google.maps.ControlPosition.RIGHT_CENTER\n\t        },\n\t        panControl: false,\n\t        mapTypeControl: true,\n\t        mapTypeControlOptions: {\n\t          position: google.maps.ControlPosition.LEFT_BOTTOM\n\t        },\n\t        mapTypeId: google.maps.MapTypeId.ROADMAP\n\t      };\n\t\n\t      this._map = new google.maps.Map(this._dom.canvas[0], mapOptions);\n\t      this._geocoder = new google.maps.Geocoder();\n\t\n\t      google.maps.event.addListener(this._map, 'click', function (evt) {\n\t        _this._mapClick(evt);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * @summary Initializes all the map controllers\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: '_initControllers',\n\t    value: function _initControllers() {\n\t      if (this._options.clearMapCtrl) {\n\t        this._setClearMapController();\n\t      }\n\t\n\t      if (this._options.exportMapCtrl && this._options.exportMapCb) {\n\t        this._setExportMapController();\n\t      }\n\t\n\t      if (this._options.tipsMapCtrl) {\n\t        this._setTipsMapController();\n\t      }\n\t\n\t      if (this._options.geocoderMapField) {\n\t        this._setGeocoderMapFieldController();\n\t      }\n\t\n\t      if (this._options.fullscreen) {\n\t        this._setFullscreenController();\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Initializes the map set tools\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: '_initTools',\n\t    value: function _initTools() {\n\t      for (var k in this._state.tools) {\n\t        if (this._supportedTools.indexOf(k) !== -1) {\n\t          this._state.tools[k].activate();\n\t        }\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Sets the clear map controller depending on the options.clearMapCtrl value\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: '_setClearMapController',\n\t    value: function _setClearMapController() {\n\t      if (this._options.clearMapCtrl === 'default') {\n\t        this._controllers.clearMap = jQuery('<div />', { 'class': 'geodrawer-ctrls-clear_map' }).text('clear map').appendTo(this._dom.controllersContainer);\n\t      } else if (this._options.clearMapCtrl) {\n\t        this._controllers.clearMap = jQuery(this._options.clearMapCtrl);\n\t        if (!this._controllers.clearMap) {\n\t          throw new Error('The given clear map controller is not a DOM element');\n\t        }\n\t      }\n\t      this._controllers.clearMapCb = this.clearMap.bind(this);\n\t      this._controllers.clearMap.on('click', this._controllers.clearMapCb);\n\t    }\n\t\n\t    /**\n\t     * @summary Removes the clear map event and the controller if the default one\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: '_removeClearMapController',\n\t    value: function _removeClearMapController() {\n\t      // @TODO check me\n\t      this._controllers.clearMap.off('click', null, this._controllers.clearMapCb);\n\t      if (this._options.clearMapCtrl === 'default') {\n\t        this._controllers.clearMap.remove();\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Sets the export map controller depending on the options.export_map_ctrl value\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: '_setExportMapController',\n\t    value: function _setExportMapController() {\n\t      if (this._options.exportMapCtrl === 'default') {\n\t        this._controllers.exportMap = jQuery('<div />', { 'class': 'geodrawer-ctrls-export_map' }).text('export map').appendTo(this._dom.controllersContainer);\n\t      } else if (this._options.exportMapCtrl) {\n\t        this._controllers.exportMap = jQuery(this._options.exportMapCtrl);\n\t        if (!this._controllers.exportMap.length) {\n\t          throw new Error('The given export map controller is not a DOM element');\n\t        }\n\t      }\n\t\n\t      this._controllers.exportMapCb = function () {\n\t        this._options.exportMapCb(this.exportMap());\n\t      }.bind(this);\n\t      this._controllers.exportMap.on('click', this._controllers.exportMapCb);\n\t    }\n\t\n\t    /**\n\t     * @summary Removes the export map event and the controller if the default one\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: '_removeExportMapController',\n\t    value: function _removeExportMapController() {\n\t      this._controllers.exportMap.off('click', null, this._controllers.exportMapCb);\n\t      if (this._options.exportMapCtrl === 'default') {\n\t        this._controllers.exportMap.remove();\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Sets the help tips map controller depending on the options.tips_map_ctrl value\n\t     * @memberof geodrawer.Map.prototype\n\t     * @method\n\t     * @protected\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: '_setTipsMapController',\n\t    value: function _setTipsMapController() {\n\t      if (this._options.tipsMapCtrl === 'default') {\n\t        this._controllers.tipsMap = jQuery('<div />', { 'class': 'geodrawer-ctrls-tips_map' }).appendTo(this._dom.controllersContainer);\n\t      } else if (this._options.tipsMapCtrl) {\n\t        this._controllers.tipsMap = jQuery(this._options.tipsMapCtrl);\n\t        if (!this._controllers.tipsMap.length) {\n\t          throw new Error('The given tips map controller is not a DOM element');\n\t        }\n\t      }\n\t\n\t      if (this._controllers.tipsMap.length) {\n\t        this.updateTips(this._initMapTips());\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Removes the tips map controller if the default one\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: '_removeTipsMapController',\n\t    value: function _removeTipsMapController() {\n\t      if (this._options.tipsMapCtrl === 'default') {\n\t        this._controllers.tipsMap.remove();\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Sets the geocoder input text field and its controllers\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: '_setGeocoderMapFieldController',\n\t    value: function _setGeocoderMapFieldController() {\n\t      this._controllers.geocoderField = jQuery('<input />', {\n\t        'class': 'geodrawer-ctrls-geocoder_field',\n\t        type: 'text',\n\t        placeholder: 'insert an address'\n\t      });\n\t\n\t      this._controllers.geocoderCenterButton = jQuery('<input />', {\n\t        'class': 'geodrawer-ctrls-geocoder_center_button',\n\t        type: 'button',\n\t        value: 'set map center'\n\t      });\n\t\n\t      this._controllers.geocoderDrawButton = jQuery('<input />', {\n\t        'class': 'geodrawer-ctrls-geocoder_draw_button',\n\t        type: 'button',\n\t        value: 'draw'\n\t      });\n\t\n\t      this._controllers.geocoderCenterButton.on('click', this.geocoderCenter.bind(this));\n\t      this._controllers.geocoderDrawButton.on('click', this.geocoderDraw.bind(this));\n\t\n\t      this._dom.controllersContainer.append(this._controllers.geocoderField, this._controllers.geocoderCenterButton, this._controllers.geocoderDrawButton);\n\t    }\n\t\n\t    /**\n\t     * @summary Removes the geocoder input text field and its controllers\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: '_removeGeocoderMapField',\n\t    value: function _removeGeocoderMapField() {\n\t      this._controllers.geocoderCenterButton.off();\n\t      this._controllers.geocoderDrawButton.off();\n\t      this._controllers.geocoderField.remove();\n\t      this._controllers.geocoderCenterButton.remove();\n\t      this._controllers.geocoderDrawButton.remove();\n\t    }\n\t\n\t    /**\n\t     * @summary Sets the fullscreen controller\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: '_setFullscreenController',\n\t    value: function _setFullscreenController() {\n\t      var _this2 = this;\n\t\n\t      this._controllers.fullscreen = jQuery('<div />', {\n\t        'class': 'geodrawer-ctrls-fullscreen'\n\t      }).text('fullscreen').appendTo(this._dom.controllersContainer).on('click', function () {\n\t        _this2._dom.container.toggleClass('geodrawer-fullscreen');\n\t        google.maps.event.trigger(_this2._map, 'resize');\n\t      });\n\t    }\n\t\n\t    /**\n\t     * @summary Removes the fullscreen controller\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: '_removeFullscreenController',\n\t    value: function _removeFullscreenController() {\n\t      this._controllers.fullscreen.off();\n\t      this._controllers.fullscreen.remove();\n\t    }\n\t\n\t    /**\n\t     * @summary Returns the init text shown in the tips controller\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return {String} text The initial tip text\n\t     */\n\t\n\t  }, {\n\t    key: '_initMapTips',\n\t    value: function _initMapTips() {\n\t      return 'Displays help tips about drawing tools';\n\t    }\n\t\n\t    /**\n\t     * @summary Handles the click event over the map, calling the active tool handler\n\t     * @memberof geodrawer.Map.prototype\n\t     * @param {Object} point The callback parameter returned by the google.maps event handler\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: '_mapClick',\n\t    value: function _mapClick(point) {\n\t      if (this._state.drawingTool === null) {\n\t        return false;\n\t      }\n\t      this._state.drawingTool.clickHandler(point);\n\t    }\n\t\n\t    // PUBLIC METHODS (to be intended as public ;)\n\t\n\t    /**\n\t     * @summary Adds a drawing tool\n\t     * @memberof geodrawer.Map.prototype\n\t     * @param {geodrawer.Tool} tool The tool object\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'addTool',\n\t    value: function addTool(tool) {\n\t      if (!(tool instanceof _Tool2.default)) {\n\t        throw new Error('The given tool object is not of the proper type');\n\t      }\n\t\n\t      var toolName = tool.getToolName();\n\t\n\t      if (this._supportedTools.indexOf(toolName) === -1) {\n\t        throw new Error((0, _utils.sprintf)('The tool {0} is not supported', toolName));\n\t      }\n\t      this._state.tools[toolName] = tool;\n\t    }\n\t\n\t    /**\n\t     * @summary Gets a tool object giving its name\n\t     * @memberof geodrawer.Map.prototype\n\t     * @param {String} toolName One of the supported tools name\n\t     * @return {geodrawer.Tool | null} The tool object if set or null\n\t     */\n\t\n\t  }, {\n\t    key: 'getTool',\n\t    value: function getTool(toolName) {\n\t      if (this._supportedTools.indexOf(toolName) === -1) {\n\t        throw new Error((0, _utils.sprintf)('The {0} tool is not supported', toolName));\n\t      }\n\t      return this._state.tools[toolName];\n\t    }\n\t\n\t    /**\n\t     * @summary Removes a drawing tool\n\t     * @memberof geodrawer.Map.prototype\n\t     * @param {String} toolName The name of the tool to be removed\n\t     * @param {geodrawer.Tool} tool The tool object\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'removeTool',\n\t    value: function removeTool(toolName) {\n\t      if (this._supportedTools.indexOf(toolName) === -1) {\n\t        throw new Error((0, _utils.sprintf)('The {0} tool is not supported', toolName));\n\t      }\n\t      if (this._state.tools[toolName]) {\n\t        this._state.tools[toolName].deactivate(true);\n\t        delete this._state.tools[toolName];\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Gets the active drawing tool\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return {geodrawer.Tool} The drawing tool\n\t     */\n\t\n\t  }, {\n\t    key: 'getDrawingTool',\n\t    value: function getDrawingTool() {\n\t      return this._state.drawingTool;\n\t    }\n\t\n\t    /**\n\t     * @summary Sets the active drawing tool name\n\t     * @memberof geodrawer.Map.prototype\n\t     * @param {geodrawer.Tool|null} tool The actual drawing tool, null to have no active tool\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'setDrawingTool',\n\t    value: function setDrawingTool(tool) {\n\t      if (tool != null && !this._state.tools.hasOwnProperty(tool.getToolName())) {\n\t        throw new Error('Can\\'t set the drawing tool since it\\'s not active');\n\t      }\n\t      this._state.drawingTool = tool;\n\t    }\n\t\n\t    /**\n\t     * @summary Renders the widget\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      // map initialization\n\t      this._initMap();\n\t      // add controllers\n\t      this._initControllers();\n\t      // init tools\n\t      this._initTools();\n\t    }\n\t\n\t    /**\n\t     * @summary Adds a controller in the default controllers container\n\t     * @memberof geodrawer.Map.prototype\n\t     * @param {Object} ctrl The jQuery controller element to be added\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'addDefaultCtrl',\n\t    value: function addDefaultCtrl(ctrl) {\n\t      if (!ctrl.length) {\n\t        throw new Error('The given controller is not an element');\n\t      }\n\t      ctrl.prependTo(this._dom.controllersContainer);\n\t    }\n\t\n\t    /**\n\t     * @summary Clears the map\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'clearMap',\n\t    value: function clearMap() {\n\t      for (var k in this._state.tools) {\n\t        if (this._supportedTools.indexOf(k) !== -1) {\n\t          this._state.tools[k].clear();\n\t        }\n\t      }\n\t      console.info('geodrawer: map cleared');\n\t    }\n\t\n\t    /**\n\t     * @summary Updates the text displayed in the tips controller\n\t     * @memberof geodrawer.Map.prototype\n\t     * @param {String} html The tip text\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'updateTips',\n\t    value: function updateTips(html) {\n\t      if (this._controllers.tipsMap.length) {\n\t        this._controllers.tipsMap.html(html);\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Returns the google map instance google.maps.Map\n\t     * @memberof geodrawer.Map.prototype\n\t     * @description The google map class instance allows to customize direclty some map properties using\n\t     *              the google.maps.Map public interface\n\t     * @return {google.maps.Map} The google map instance\n\t     */\n\t\n\t  }, {\n\t    key: 'gmap',\n\t    value: function gmap() {\n\t      return this._map;\n\t    }\n\t\n\t    /**\n\t     * @summary Sets the center of the map\n\t     * @memberof geodrawer.Map.prototype\n\t     * @param {Array} center The [lat, lng] coordinates array\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'setCenter',\n\t    value: function setCenter(center) {\n\t      this._options.center = center;\n\t      if (this._map) {\n\t        this._map.setCenter(new google.maps.LatLng(center[0], center[1]));\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Sets the zoom of the map\n\t     * @memberof geodrawer.Map.prototype\n\t     * @param {Number} zoom The zoom level\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'setZoom',\n\t    value: function setZoom(zoom) {\n\t      this._options.zoom = zoom;\n\t      if (this._map) {\n\t        this._map.setZoom(zoom);\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Sets the clear map controller\n\t     * @memberof geodrawer.Map.prototype\n\t     * @param {String|Element} ctrl\n\t     *    The clear map controller.\n\t     *    If 'default' the built-in controller is used, if <code>null</code> the clear map\n\t     *    functionality is removed. If selctor or jQuery element the clear map functionality\n\t     *    is attached to the element.\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'setClearMapCtrl',\n\t    value: function setClearMapCtrl(ctrl) {\n\t      if (ctrl !== this._options.clearMapCtrl) {\n\t        this._removeClearMapController();\n\t      }\n\t      this._options.clearMapCtrl = ctrl;\n\t      this._setClearMapController();\n\t    }\n\t\n\t    /**\n\t     * @summary Sets the export map controller\n\t     * @memberof geodrawer.Map.prototype\n\t     * @param {String|Element} ctrl\n\t     *    The clear map controller.\n\t     *    If 'default' the built-in controller is used, if <code>null</code> the export map\n\t     *    functionality is removed. If selctor or jQuery element the export map functionality\n\t     *    is attached to the element.\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'setExportMapCtrl',\n\t    value: function setExportMapCtrl(ctrl) {\n\t      if (ctrl !== this._options.exportMapCtrl) {\n\t        this._removeExportMapController();\n\t      }\n\t      this._options.exportMapCtrl = ctrl;\n\t      this._setExportMapController();\n\t    }\n\t\n\t    /**\n\t     * @summary Sets the geocoder map field option\n\t     * @memberof geodrawer.Map.prototype\n\t     * @param {Boolean} activate Whether or not to activate the geocoder functionality\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'setGeocoderMapField',\n\t    value: function setGeocoderMapField(activate) {\n\t      this._options.geocoderMapField = activate;\n\t      if (!activate) {\n\t        this._removeGeocoderMapField();\n\t      } else {\n\t        this._setGeocoderMapFieldController();\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Sets the tips map controller\n\t     * @memberof geodrawer.Map.prototype\n\t     * @param {String|Element} ctrl\n\t     *    The help tips map controller (shows tips about drawing tools).\n\t     *    If 'default' the built-in controller is used, if <code>null</code> the tips box is not shown,\n\t     *    if selector or jQuery element the functionality is attached to the element\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'setTipsMapCtrl',\n\t    value: function setTipsMapCtrl(ctrl) {\n\t      if (ctrl !== this._options.tipsMapCtrl) {\n\t        this._removeTipsMapController();\n\t      }\n\t      this._options.tipsMapCtrl = ctrl;\n\t      this._setTipsMapController();\n\t    }\n\t\n\t    /**\n\t     * @summary Sets the fullscreen option\n\t     * @memberof geodrawer.Map.prototype\n\t     * @param {Boolean} activate Whether or not to activate the fullscreen functionality\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'setFullscreen',\n\t    value: function setFullscreen(activate) {\n\t      this._options.fullscreen = activate;\n\t      if (!activate) {\n\t        this._removeFullscreenController();\n\t      } else {\n\t        this._setFullscreenController();\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Exports the map drawed shapes as data points\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return {Object} data The drawed data\n\t     * @example\n\t     * {\n\t     *  'point': [\n\t     *    {lat: 45, lng: 12},\n\t     *    {lat: 43, lng: 16}\n\t     *  ],\n\t     *  'polyline': [\n\t     *    [\n\t     *      {lat: 45, lng: 12},\n\t     *      {lat: 42, lng: 12},\n\t     *      {lat: 42.6, lng: 11}\n\t     *    ],\n\t     *    [\n\t     *      {lat: 36.7, lng: 11.2},\n\t     *      {lat: 39, lng: 12}\n\t     *    ],\n\t     *  ],\n\t     *  'circle': [\n\t     *    {lat: 45, lng: 12, radius: 10000},\n\t     *    {lat: 44, lng: 11, radius: 230000}\n\t     *  ]\n\t     * }\n\t     */\n\t\n\t  }, {\n\t    key: 'exportMap',\n\t    value: function exportMap() {\n\t      var data = {};\n\t      for (var k in this._state.tools) {\n\t        if (this._supportedTools.indexOf(k) !== -1) {\n\t          data[k] = this._state.tools[k].exportData();\n\t        }\n\t      }\n\t      console.info('geodrawer: exporting data');\n\t      return data;\n\t    }\n\t\n\t    /**\n\t     * @summary Imports data\n\t     * @description Data must be in the same format as the exported ones, see {@link geodrawer.Map#exportMap}\n\t     * @memberof geodrawer.Map.prototype\n\t     * @param {Object} data The data object\n\t     */\n\t\n\t  }, {\n\t    key: 'importMap',\n\t    value: function importMap(data) {\n\t      var _this3 = this;\n\t\n\t      this._supportedTools.forEach(function (toolName) {\n\t        if (typeof data[toolName] !== 'undefined') {\n\t          if (_this3.getTool(toolName) === null) {\n\t            var Cls = (0, _utils.capitalize)(toolName) + 'Tool';\n\t            var ntool = new Cls(_this3, null);\n\t            _this3.addTool(ntool);\n\t            ntool.activate();\n\t          }\n\t          _this3.getTool(toolName).importData(data[toolName]);\n\t          _this3.getTool(toolName).extendBounds(_this3._bounds);\n\t        }\n\t      });\n\t      this._map.fitBounds(this._bounds);\n\t    }\n\t\n\t    /**\n\t     * @summary Sets the map center converting the geocoderf ield input address in a LatLng point\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'geocoderCenter',\n\t    value: function geocoderCenter() {\n\t      var self = this;\n\t      var request = {\n\t        address: this._controllers.geocoderField.val()\n\t      };\n\t      this._geocoder.geocode(request, function (results, status) {\n\t        var result = results[0];\n\t        if (status === 'OK') {\n\t          self._map.setCenter(result.geometry.location);\n\t        } else {\n\t          console.log('geodrawer: geocoder response status: ' + status);\n\t          alert(status);\n\t        }\n\t      });\n\t    }\n\t\n\t    /**\n\t     * @summary Fires a map click in a LatLng point converted from the geocoder field input address\n\t     * @memberof geodrawer.Map.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'geocoderDraw',\n\t    value: function geocoderDraw() {\n\t      var self = this;\n\t      var request = {\n\t        address: this._controllers.geocoderField.val()\n\t      };\n\t\n\t      this._geocoder.geocode(request, function (results, status) {\n\t        var result = results[0];\n\t        if (status === 'OK') {\n\t          if (self._state.drawingTool === null) {\n\t            alert('select a drawing tool');\n\t          }\n\t          self._mapClick({\n\t            latLng: result.geometry.location\n\t          });\n\t        } else {\n\t          console.log('geodrawer: geocoder response status: ' + status);\n\t          alert(status);\n\t        }\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return Map;\n\t}();\n\t\n\texports.default = Map;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Tool2 = __webpack_require__(1);\n\t\n\tvar _Tool3 = _interopRequireDefault(_Tool2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t/**\n\t * @summary Google maps drawing point tool class. Provides methods to draw over the {@link geodrawer.Map} instance\n\t * @classdesc <p>The point drawing tool class, which allows to draw points over the gmapdraw map instane.</p>\n\t * @constructs geodrawer.PointTool\n\t * @extends geodrawer.Tool\n\t * @param {geodrawer.Map} map The map instance which handles the tool\n\t * @param {String|Object} ctrl The selector or jQuery element which controls the tool when clicking over it\n\t * @param {Object} options A class options object\n\t * @param {Number} [options.max_items_allowed=1] The maximum number of shapes the tool may draw\n\t *\n\t */\n\t\n\tvar PointTool = function (_Tool) {\n\t  _inherits(PointTool, _Tool);\n\t\n\t  function PointTool(map, ctrl, options) {\n\t    _classCallCheck(this, PointTool);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PointTool).call(this, map, ctrl, 'point'));\n\t\n\t    _this._options = jQuery.extend({}, _this._options, options);\n\t    return _this;\n\t  }\n\t\n\t  /**\n\t   * @summary Returns the tool help tip text\n\t   * @memberof geodrawer.PointTool.prototype\n\t   * @return {String} The tips text\n\t   */\n\t\n\t\n\t  _createClass(PointTool, [{\n\t    key: 'tipsText',\n\t    value: function tipsText() {\n\t      return 'Click on the map to set draggable markers points. Right click on a marker to delete it';\n\t    }\n\t\n\t    /**\n\t     * @summary Handles the click event over the map when the tool is the drawing one\n\t     * @memberof geodrawer.PointTool.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'clickHandler',\n\t    value: function clickHandler(evt) {\n\t      var _this2 = this;\n\t\n\t      // maximum number of points reached\n\t      if (this._state.items.length >= this._options.maxItemsAllowed) {\n\t        console.info('geodrawer: maximum number of points drawed');\n\t        alert('Maximum number of insertable points reached');\n\t        return null;\n\t      }\n\t\n\t      var marker = new google.maps.Marker({\n\t        position: evt.latLng,\n\t        draggable: true,\n\t        map: this._map.gmap()\n\t      });\n\t\n\t      this._state.items.push(marker);\n\t\n\t      var self = this;\n\t      google.maps.event.addListener(marker, 'rightclick', function () {\n\t        marker.setMap(null);\n\t        self._state.items.splice(_this2._state.items.indexOf(marker), 1);\n\t      });\n\t\n\t      console.info('geodrawer: point drawn');\n\t    }\n\t\n\t    /**\n\t     * @summary Clears all drawed points\n\t     * @memberof geodrawer.PointTool.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'clear',\n\t    value: function clear() {\n\t      this._state.items.forEach(function (marker) {\n\t        marker.setMap(null);\n\t      });\n\t      this._state.items = [];\n\t      console.info('points cleared');\n\t    }\n\t\n\t    /**\n\t     * @summary Returns all the drawed points data\n\t     * @memberof geodrawer.PointTool.prototype\n\t     * @return {Array} data An array of objects representing the drawed points coordinates\n\t     * @example\n\t     *    [{lat: 45, lng: 7}, {lat: 33, lng: 15}, {lat: 42, lng: 5}]\n\t     */\n\t\n\t  }, {\n\t    key: 'exportData',\n\t    value: function exportData() {\n\t      var data = this._state.items.map(function (marker) {\n\t        return {\n\t          lat: marker.getPosition().lat(),\n\t          lng: marker.getPosition().lng()\n\t        };\n\t      });\n\t\n\t      return data;\n\t    }\n\t\n\t    /**\n\t     * @summary Imports the data as points\n\t     * @memberof geodrawer.PointTool.prototype\n\t     * @param {Array} data An array of objects representing the points coordinates\n\t     * @example\n\t     *    [{lat: 45, lng: 7}, {lat: 33, lng: 15}, {lat: 42, lng: 5}]\n\t     */\n\t\n\t  }, {\n\t    key: 'importData',\n\t    value: function importData(data) {\n\t      for (var i = 0; i < data.length; i++) {\n\t        var point = data[i];\n\t        this.clickHandler({ latLng: new google.maps.LatLng(point.lat, point.lng) });\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Extends the map bounds to fit the points\n\t     * @memberof geodrawer.PointTool.prototype\n\t     * @param {google.maps.LatLngBounds} [bounds] the LatLngBounds object\n\t     */\n\t\n\t  }, {\n\t    key: 'extendBounds',\n\t    value: function extendBounds(bounds) {\n\t      this._state.items.forEach(function (marker) {\n\t        bounds.extend(marker.getPosition());\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return PointTool;\n\t}(_Tool3.default);\n\t\n\texports.default = PointTool;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _Tool2 = __webpack_require__(1);\n\t\n\tvar _Tool3 = _interopRequireDefault(_Tool2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t/**\n\t * @summary Google maps drawing polygon tool class. Provides methods to draw over the {@link geodrawer.Map} instance\n\t * @classdesc <p>The polygon drawing tool class, which allows to draw polygons over the gmapdraw map instance.</p>\n\t * @constructs geodrawer.PolygonTool\n\t * @extends geodrawer.Tool\n\t * @param {geodrawer.Map} map The map instance which handles the tool\n\t * @param {String|Object} ctrl The selector or the jQuery element which controls the tool when clicking over it\n\t * @param {Object} options A class options object\n\t * @param {Number} [options.maxItemsAllowed=1] The maximum number of shapes the tool may draw.\n\t *\n\t */\n\t\n\tvar PolygonTool = function (_Tool) {\n\t  _inherits(PolygonTool, _Tool);\n\t\n\t  function PolygonTool(map, ctrl, options) {\n\t    _classCallCheck(this, PolygonTool);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PolygonTool).call(this, map, ctrl, 'polygon'));\n\t\n\t    _this._activePolygonIndex = null;\n\t    _this._options = jQuery.extend({}, _this._options, options);\n\t    return _this;\n\t  }\n\t\n\t  /**\n\t   * @summary Returns the tool help tip text\n\t   * @memberof geodrawer.PolygonTool.prototype\n\t   * @return {String} The tips text\n\t   */\n\t\n\t\n\t  _createClass(PolygonTool, [{\n\t    key: 'tipsText',\n\t    value: function tipsText() {\n\t      return 'Click on the map to add polygon\\'s vertices, click the menu voice again to create a new shape.' + ' Right click on existing polygons to delete them';\n\t    }\n\t\n\t    /**\n\t     * @summary Prepares the tool\n\t     * @memberof geodrawer.PolygonTool.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'prepareTool',\n\t    value: function prepareTool() {\n\t      _get(Object.getPrototypeOf(PolygonTool.prototype), 'prepareTool', this).call(this);\n\t      this._nextShape = true;\n\t    }\n\t\n\t    /**\n\t     * @summary Handles the click event over the map when the tool is the drawing one\n\t     * @memberof geodrawer.PolygonTool.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'clickHandler',\n\t    value: function clickHandler(evt) {\n\t      var _this2 = this;\n\t\n\t      // if next shape && maximum shape number is not reached\n\t      if (this._nextShape && this._state.items.length < this._options.maxItemsAllowed) {\n\t        (function () {\n\t          var polygonPath = new google.maps.MVCArray([evt.latLng]); // store the point of the polyline\n\t          var polygon = new google.maps.Polygon({\n\t            editable: true,\n\t            path: polygonPath,\n\t            map: _this2._map.gmap()\n\t          });\n\t\n\t          var polygonItem = {\n\t            path: polygonPath,\n\t            shape: polygon\n\t          };\n\t          _this2._state.items.push(polygonItem);\n\t          _this2._activePolygonIndex = _this2._state.items.indexOf(polygonItem);\n\t\n\t          // right click to delete one\n\t          google.maps.event.addListener(polygon, 'rightclick', function () {\n\t            polygon.setMap(null);\n\t            _this2._state.items.splice(_this2._state.items.indexOf(polygonItem), 1);\n\t            _this2._activePolygonIndex--; // one item has been removed, indexes shift down\n\t            _this2._nextShape = true; // otherwise next click will populate the last polyline\n\t          });\n\t\n\t          _this2._nextShape = false;\n\t        })();\n\t      } else if (this._nextShape) {\n\t        // maximum number exceeded\n\t        console.info('maximum number of polygons reached');\n\t        alert('Maximum number of insertable polygons reached');\n\t        return null;\n\t      } else {\n\t        // add a point to the current polyline\n\t        this._state.items[this._activePolygonIndex].path.push(evt.latLng);\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Clears all polygons\n\t     * @memberof geodrawer.PolygonTool.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'clear',\n\t    value: function clear() {\n\t      this._state.items.forEach(function (polygon) {\n\t        polygon.shape.setMap(null);\n\t      });\n\t      this._state.items = [];\n\t      console.info('polygons cleared');\n\t    }\n\t\n\t    /**\n\t     * @summary Returns all the drawn polygons data\n\t     * @memberof geodrawer.PolygonTool.prototype\n\t     * @return {Array} data An array of arrays of objects representing the polygons' vertex coordinates\n\t     * @example\n\t     *    // two polygons, the first with 3 vertexes, the second with 4 vertexes.\n\t     *    [[{lat: 45, lng:7}, {lat:46, lng:7}, {lat: 42, lng: 11}],\n\t     *     [{lat: 42, lng: 11}, {lat: 41, lng: 10.8}, {lat: 44, lng: 8}, {lat: 33, lng: 12}]]\n\t     */\n\t\n\t  }, {\n\t    key: 'exportData',\n\t    value: function exportData() {\n\t      var data = this._state.items.map(function (polygon) {\n\t        var darr = [];\n\t        polygon.path.forEach(function (point, index) {\n\t          darr.push({ lat: point.lat(), lng: point.lng() });\n\t        });\n\t        return darr;\n\t      });\n\t\n\t      return data;\n\t    }\n\t\n\t    /**\n\t     * @summary Imports the data as polygons\n\t     * @memberof geodrawer.PolygonTool.prototype\n\t     * @param {Array} data An array of arrays of objects representing the polygons' vertex coordinates\n\t     */\n\t\n\t  }, {\n\t    key: 'importData',\n\t    value: function importData(data) {\n\t      for (var i = 0; i < data.length; i++) {\n\t        var polygon = data[i];\n\t        this.prepareTool();\n\t        for (var ii = 0; ii < polygon.length; ii++) {\n\t          var point = polygon[ii];\n\t          this.clickHandler({ latLng: new google.maps.LatLng(point.lat, point.lng) });\n\t        }\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Extends the map bounds to fit the polygons\n\t     * @memberof geodrawer.PolygonTool.prototype\n\t     * @param {google.maps.LatLngBounds} [bounds] the LatLngBounds object\n\t     */\n\t\n\t  }, {\n\t    key: 'extendBounds',\n\t    value: function extendBounds(bounds) {\n\t      this._state.items.forEach(function (polygon) {\n\t        polygon.path.forEach(function (point, index) {\n\t          bounds.extend(point);\n\t        });\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return PolygonTool;\n\t}(_Tool3.default);\n\t\n\texports.default = PolygonTool;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _Tool2 = __webpack_require__(1);\n\t\n\tvar _Tool3 = _interopRequireDefault(_Tool2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t/**\n\t * @summary Google maps drawing polyline tool class. Provides methods to draw over the {@link geodrawer.Map} instance\n\t * @classdesc <p>The polyline drawing tool class, which allows to draw polylines over the gmapdraw map instance.</p>\n\t * @constructs geodrawer.PolylineTool\n\t * @extends geodrawer.Tool\n\t * @param {geodrawer.Map} map The map instance which handles the tool\n\t * @param {String|Object} ctrl The selector or jQuery element which controls the tool when clicking over it\n\t * @param {Object} options A class options object\n\t * @param {Number} [options.maxItemsAllowed=1] The maximum number of shapes the tool may draw.\n\t *\n\t */\n\t\n\tvar PolylineTool = function (_Tool) {\n\t  _inherits(PolylineTool, _Tool);\n\t\n\t  function PolylineTool(map, ctrl, options) {\n\t    _classCallCheck(this, PolylineTool);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PolylineTool).call(this, map, ctrl, 'polyline'));\n\t\n\t    _this._activePolylineIndex = null;\n\t    _this._options = jQuery.extend({}, _this._options, options);\n\t    return _this;\n\t  }\n\t\n\t  /**\n\t   * @summary Returns the tool help tip text\n\t   * @memberof geodrawer.PolylineTool.prototype\n\t   * @return {String} The tips text\n\t   */\n\t\n\t\n\t  _createClass(PolylineTool, [{\n\t    key: 'tipsText',\n\t    value: function tipsText() {\n\t      return 'Click on the map to add polyline points, click the menu voice again to create a new polyline. ' + 'Right click on existing polylines to delete them';\n\t    }\n\t\n\t    /**\n\t     * @summary Prepares the tool\n\t     * @memberof geodrawer.PolylineTool.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'prepareTool',\n\t    value: function prepareTool() {\n\t      _get(Object.getPrototypeOf(PolylineTool.prototype), 'prepareTool', this).call(this);\n\t      this._nextShape = true;\n\t    }\n\t\n\t    /**\n\t     * @summary Handles the click event over the map when the tool is the drawing one\n\t     * @memberof geodrawer.PolylineTool.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'clickHandler',\n\t    value: function clickHandler(evt) {\n\t      var _this2 = this;\n\t\n\t      // if next shape && maximum shape number is not reached\n\t      if (this._nextShape && this._state.items.length < this._options.maxItemsAllowed) {\n\t        (function () {\n\t          var polylinePath = new google.maps.MVCArray([evt.latLng]); // store the point of the polyline\n\t          var polyline = new google.maps.Polyline({\n\t            editable: true,\n\t            path: polylinePath,\n\t            map: _this2._map.gmap()\n\t          });\n\t\n\t          var polylineItem = {\n\t            path: polylinePath,\n\t            shape: polyline\n\t          };\n\t          _this2._state.items.push(polylineItem);\n\t          _this2._activePolylineIndex = _this2._state.items.indexOf(polylineItem);\n\t\n\t          // right click to delete one\n\t          google.maps.event.addListener(polyline, 'rightclick', function () {\n\t            polyline.setMap(null);\n\t            _this2._state.items.splice(_this2._state.items.indexOf(polylineItem), 1);\n\t            _this2._activePolylineIndex--; // one item has been removed, indexes shift down\n\t            _this2._nextShape = true; // otherwise next click will populate the last polyline\n\t          });\n\t\n\t          _this2._nextShape = false;\n\t        })();\n\t      } else if (this._nextShape) {\n\t        // maximum number exceeded\n\t        console.info('maximum number of polylines reached');\n\t        alert('Maximum number of insertable polylines reached');\n\t        return null;\n\t      } else {\n\t        // add a point to the current polyline\n\t        this._state.items[this._activePolylineIndex].path.push(evt.latLng);\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Clears all polylines\n\t     * @memberof geodrawer.PolylineTool.prototype\n\t     * @return void\n\t     */\n\t\n\t  }, {\n\t    key: 'clear',\n\t    value: function clear() {\n\t      this._state.items.forEach(function (polyline) {\n\t        polyline.shape.setMap(null);\n\t      });\n\t      this._state.items = [];\n\t      console.info('polylines cleared');\n\t    }\n\t\n\t    /**\n\t     * @summary Returns all the drawn polylines data\n\t     * @memberof geodrawer.PolylineTool.prototype\n\t     * @return {Array} data An array of arrays of objects representing the polylines' points coordinates\n\t     * @example\n\t     *    // two polylines, the first with 2 points, the second with 3 points.\n\t     *    [[{lat: 45, lng:7}, {lat:46, lng:7}], [{lat: 42, lng: 11}, {lat: 41, lng: 10.8}, {lat: 44, lng: 8}]]\n\t     */\n\t\n\t  }, {\n\t    key: 'exportData',\n\t    value: function exportData() {\n\t      var data = this._state.items.map(function (polyline) {\n\t        var darr = [];\n\t        polyline.path.forEach(function (point, index) {\n\t          darr.push({ lat: point.lat(), lng: point.lng() });\n\t        });\n\t        return darr;\n\t      });\n\t\n\t      return data;\n\t    }\n\t\n\t    /**\n\t     * @summary Imports the data as polylines\n\t     * @memberof geodrawer.PolylineTool.prototype\n\t     * @param {Array} data An array of arrays of objects representing the polylines' points coordinates\n\t     */\n\t\n\t  }, {\n\t    key: 'importData',\n\t    value: function importData(data) {\n\t      for (var i = 0; i < data.length; i++) {\n\t        var polyline = data[i];\n\t        this.prepareTool();\n\t        for (var ii = 0; ii < polyline.length; ii++) {\n\t          var point = polyline[ii];\n\t          this.clickHandler({ latLng: new google.maps.LatLng(point.lat, point.lng) });\n\t        }\n\t      }\n\t    }\n\t\n\t    /**\n\t     * @summary Extends the map bounds to fit the polylines\n\t     * @memberof geodrawer.PolylineTool.prototype\n\t     * @param {google.maps.LatLngBounds} [bounds] the LatLngBounds object\n\t     */\n\t\n\t  }, {\n\t    key: 'extendBounds',\n\t    value: function extendBounds(bounds) {\n\t      this._state.items.forEach(function (polyline) {\n\t        polyline.path.forEach(function (point, index) {\n\t          bounds.extend(point);\n\t        });\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return PolylineTool;\n\t}(_Tool3.default);\n\t\n\texports.default = PolylineTool;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(11)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".geodrawer-container{background:#000;border:2px solid #000;color:#fff}.geodrawer-container [class^=geodrawer-ctrl-]{display:inline-block;height:30px;width:30px}.geodrawer-container .geodrawer-ctrl-point-tool{background:url(\" + __webpack_require__(14) + \") no-repeat 50%;background-size:cover}.geodrawer-fullscreen{height:100%;left:0;position:fixed;top:0;width:100%!important}.geodrawer-fullscreen .geodrawer-ctrls-container{background:#000;position:absolute;top:0;width:100%;z-index:101}.geodrawer-fullscreen .geodrawer-map-canvas{height:100%!important;z-index:100}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\t// css base code, injected by the css-loader\r\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\t\r\n\t\t// return the list of modules as css string\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\t\r\n\t\t// import a list of modules into the list\r\n\t\tlist.i = function(modules, mediaQuery) {\r\n\t\t\tif(typeof modules === \"string\")\r\n\t\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\t\tvar alreadyImportedModules = {};\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar id = this[i][0];\r\n\t\t\t\tif(typeof id === \"number\")\r\n\t\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\t\tvar item = modules[i];\r\n\t\t\t\t// skip already imported module\r\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn list;\r\n\t};\r\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0,\r\n\t\tstyleElementsInsertedAtTop = [];\r\n\t\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\t\r\n\t\t// By default, add <style> tags to the bottom of <head>.\r\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\t\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\t\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\t\r\n\tfunction insertStyleElement(options, styleElement) {\r\n\t\tvar head = getHeadElement();\r\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\t\tif (options.insertAt === \"top\") {\r\n\t\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\thead.appendChild(styleElement);\r\n\t\t\t}\r\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t\t} else if (options.insertAt === \"bottom\") {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction removeStyleElement(styleElement) {\r\n\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\t\tif(idx >= 0) {\r\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction createStyleElement(options) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tinsertStyleElement(options, styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\t\r\n\tfunction createLinkElement(options) {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\tinsertStyleElement(options, linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\t\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\t\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement(options);\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement(options);\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t\tupdate(obj);\r\n\t\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\t\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\t\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\t\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\t\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(sourceMap) {\r\n\t\t\t// http://stackoverflow.com/a/26603875\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t\t}\r\n\t\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\t\r\n\t\tvar oldSrc = linkElement.href;\r\n\t\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\t\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(10);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(12)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./base.scss\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./base.scss\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOC4xLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGl2ZWxsb18xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDE1MCAxNTAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDE1MCAxNTAiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjE1MCIgaGVpZ2h0PSIxNTAiLz4NCgk8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNNzUsMTVjLTIzLjE5LDAtNDIsMTguODEtNDIsNDJjMCwzMS41LDQyLDc4LDQyLDc4czQyLTQ2LjUsNDItNzhDMTE3LDMzLjgxLDk4LjE5LDE1LDc1LDE1eiBNNzUsNzINCgkJYy04LjI4LDAtMTUtNi43Mi0xNS0xNXM2LjcyLTE1LDE1LTE1czE1LDYuNzIsMTUsMTVTODMuMjgsNzIsNzUsNzJ6Ii8+DQo8L2c+DQo8L3N2Zz4NCg==\"\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** geodrawer.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e0196bd916482c2ff635\n **/","import Dispatcher from 'EventDispatcher'\nimport Loader from 'Loader'\nimport Map from 'Map'\nimport PointTool from 'PointTool'\nimport PolylineTool from 'PolylineTool'\nimport PolygonTool from 'PolygonTool'\nimport CircleTool from 'CircleTool'\n\nrequire('../scss/base.scss')\n\nwindow.geodrawer = {\n  ready: function (callback) {\n    Dispatcher.register('geocoder-loaded', function () {\n      callback.call(this)\n    })\n    Loader.load()\n  },\n  Map: Map,\n  PointTool: PointTool,\n  PolylineTool: PolylineTool,\n  PolygonTool: PolygonTool,\n  CircleTool: CircleTool\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/geodrawer.js\n **/","import {sprintf} from 'utils'\n\n/**\n * @summary Google maps drawing tool class.\n * @classdesc <p>This class is the superclass for all tools, extended by all specific tools.</p>\n *            <p><b>DO NOT INSTANTIATE THIS CLASS DIRECLTY</b>, use its children instead.</p>\n * @constructs geodrawer.Tool\n * @param {geodrawer.Map} map The Map instance which handles the tool\n * @param {String|Element} ctrl The selector or the element itself which controls the tool when clicking over it\n * @param {String} toolName The drawing tool name\n *\n */\nexport default class {\n\n  constructor (map, ctrl, toolName) {\n    this._state = {\n      active: false,\n      items: [] // array storing all the drawed items\n    }\n    this._map = null\n    this._ctrl = null\n    // store the ctrl given, will be used when the tool is activated.\n    this._ctrlParam = ctrl\n    this._toolName = null\n\n    this._map = map\n    this._toolName = toolName\n\n    // next click has to begin a new shape?\n    this._nextShape = false\n\n    this._options = {\n      maxItemsAllowed: 1\n    }\n  }\n\n  /**\n   * @summary Sets the tool controller\n   * @memberof geodrawer.Tool.prototype\n   * @param {String/Element} [ctrl=null]\n   *    The selector or jQuery element which serves as the tool controller,\n   *    if <code>null</code> the default controller is used.\n   * @return void\n   */\n  _setController (ctrl) {\n    if (ctrl) {\n      this._ctrl = jQuery(ctrl)\n      if (!this._ctrl.length) {\n        throw new Error(sprintf('the given ctrl for the {0} tool is not a DOM element', this._toolName))\n      }\n    } else {\n      // default\n      this._ctrl = jQuery('<div />', {\n        'class': 'geodrawer-ctrl-' + this._toolName + '-tool'\n      }).text(this._toolName)\n      this._map.addDefaultCtrl(this._ctrl)\n    }\n  }\n\n  /**\n   * @summary Removes the default tool controller\n   * @memberof geodrawer.Tool.prototype\n   * @return void\n   */\n  _removeController () {\n    this._ctrl.remove()\n    this._ctrl = null\n  }\n\n  // PUBLIC METHODS (to be intended as public ;)\n\n  /**\n   * @summary Returns the tool name\n   * @memberof geodrawer.Tool.prototype\n   * @return {String} The tool name\n   */\n  getToolName () {\n    return this._toolName\n  }\n\n  /**\n   * @summary Adds an item to the items\n   * @memberof geodrawer.Tool.prototype\n   * @param {Object} item a google map shape\n   * @return void\n   */\n  addItem (item) {\n    this._state.items.push(item)\n  }\n\n  /**\n   * @summary Sets the maximum number of items that the tool may draw\n   * @memberof geodrawer.Tool.prototype\n   * @param max The maximum number of drawable items\n   * @return void\n   */\n  setMaxItemsAllowed (max) {\n    this._options.maxItemsAllowed = parseInt(max, 10)\n  }\n\n  /**\n   * @summary Sets the value of the next shape property (a new click starts a new shape if true)\n   * @memberof geodrawer.Tool.prototype\n   * @param enable Whether or not next click has to start a new shape\n   * @return void\n   */\n  setNextShape (enable) {\n    this._nextShape = !!enable\n  }\n\n  /**\n   * @summary Activates the tool\n   * @memberof geodrawer.Tool.prototype\n   * @return void\n   */\n  activate () {\n    this._state.active = true\n\n    this._setController(this._ctrlParam)\n\n    this._ctrl.on('click', this.setDrawing.bind(this))\n    this._ctrl.removeClass('geodrawer-ctrl-inactive')\n    this._ctrl.addClass('geodrawer-ctrl-active')\n\n    console.info(sprintf('geodrawer: {0} tool activated', this._toolName))\n  }\n\n  /**\n   * @summary Removes the tool\n   * @memberof geodrawer.Tool.prototype\n   * @param {Boolean} [removeCtrl=false] Whether or not to remove the tool control if the default one\n   * @return void\n   */\n  deactivate (removeCtrl = false) {\n    if (this._state.active) {\n      this._state.active = false\n      this._ctrl.removeClass('geodrawer-ctrl-active')\n      this._ctrl.addClass('geodrawer-ctrl-inactive')\n      // @TODO check me!\n      this._ctrl.off('click', null, this.setDrawing)\n\n      if (this._map.getDrawingTool() === this) {\n        this._map.setDrawingTool(null)\n      }\n\n      if (removeCtrl && this._ctrlParam == null) {\n        this._removeController()\n      }\n\n      console.info(sprintf('{0} tool deactivated', this._toolName))\n    } else {\n      if (removeCtrl && this._ctrlParam === null) {\n        this._removeController()\n      }\n      console.info(sprintf('{0} tool already deactivated', this._toolName))\n    }\n  }\n\n  /**\n   * @summary Sets the current drawing tool\n   * @memberof geodrawer.Tool.prototype\n   * @return void\n   */\n  setDrawing () {\n    this.prepareTool()\n    console.info('geodrawer: drawing tool: ' + this._toolName)\n    this._map.setDrawingTool(this)\n  }\n\n  /**\n   * @summary Prepares the current drawing tool\n   * @memberof geodrawer.Tool.prototype\n   * @return void\n   */\n  prepareTool () {\n    this._map.updateTips(this.tipsText())\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/Tool.js\n **/","/*\n * @summary Event Dispatcher\n * @description Function which creates new EventDispatcher objects.\n *        Implementation follows the Mediator pattern\n * @return EventDispatcher instance\n */\nconst EventDispatcher = {\n  _prefix: 'on_',\n  _listeners: {},\n  /**\n   * @summary Adds a prefix to the event name\n   * @description Assures that event name doesn't match a standard Object property name\n   * @memberof EventDispatcher.prototype\n   * @return {String} prefixed event name\n   */\n  evtName: function (evtName) {\n    return this._prefix + evtName\n  },\n  /**\n   * @summary Registers a callback to an event\n   * @param {String} event_name name of the event\n   * @param {Mixed} bind the value of this provided to the callback\n   * @param {Function} callback function binded to the event\n   * @memberof EventDispatcher.prototype\n   */\n  register: function (evtName, callback, bind) {\n    var _evtName = this.evtName(evtName)\n    if (typeof this._listeners[_evtName] === 'undefined') {\n      this._listeners[_evtName] = []\n    }\n    this._listeners[_evtName].push([!bind ? this : bind, callback])\n  },\n  /**\n   * @summary Unregisters one or all callbacks binded to the given event\n   * @param {String} event_name name of the event\n   * @param {Function} callback function to unregister. All callbacks if empty\n   * @memberof EventDispatcher.prototype\n   */\n  unregister: function (evtName, callback) {\n    var _evtName = this.evtName()\n    if (typeof callback === 'undefined') {\n      delete this._listeners[_evtName]\n    } else {\n      for (var i = 0, len = this._listeners[_evtName].length; i < len; i++) {\n        var listener = this._listeners[_evtName][i]\n        if (listener[1] === callback) {\n          this._listeners[_evtName].splice(i, 1)\n        }\n      }\n    }\n  },\n  /**\n   * @summary Emits an event, all registered callbacks are called\n   * @param {String} event_name name of the event\n   * @param {Mixed} params additional parameters passed to the callback\n   * @memberof EventDispatcher.prototype\n   */\n  emit: function (evtName, params) {\n    var _evtName = this.evtName(evtName)\n    if (typeof this._listeners[_evtName] !== 'undefined') {\n      for (var i = 0, l = this._listeners[_evtName].length; i < l; i++) {\n        this._listeners[_evtName][i][1].call(this._listeners[_evtName][i][0], evtName, params)\n      }\n    }\n  }\n}\n\nexport default EventDispatcher\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/EventDispatcher.js\n **/","export function capitalize (str) {\n  return str.charAt(0).toUpperCase() + str.slice(1)\n}\n\nexport function sprintf (str, ...args) {\n  return str.replace(/{(\\d+)}/g, function (match, number) {\n    return typeof args[number] !== 'undefined'\n      ? args[number]\n      : match\n  })\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils.js\n **/","import Tool from 'Tool'\n/**\n * @summary Google maps drawing circle tool class. Provides methods to draw over the {@link geodrawer.Map} instance\n * @classdesc <p>The circle drawing tool class, which allows to draw circles over the gmapdraw map instance.</p>\n * @constructs geodrawer.CircleTool\n * @extends geodrawer.Tool\n * @param {geodrawer.Map} map The map instance which handles the tool\n * @param {String|Object} ctrl The selector or the jQuery element which controls the tool when clicking over it\n * @param {Object} options A class options object\n * @param {Number} [options.maxItemsAllowed=1] The maximum number of shapes the tool may draw.\n */\nexport default class CircleTool extends Tool {\n\n  constructor (map, ctrl, options) {\n    super(map, ctrl, 'circle')\n\n    this._drawingCircle = null\n    this._mapMoveListener = null\n    this._circleMoveListener = null\n\n    this._options = jQuery.extend({}, this._options, options)\n  }\n\n  /**\n   * @summary Returns the tool help tip text\n   * @memberof geodrawer.CircleTool.prototype\n   * @return {String} The tips text\n   */\n  tipsText () {\n    return 'Click on the map to add circles. Right click on existing circles to delete them.'\n  }\n\n  /**\n   * @summary Prepares the tool\n   * @memberof geodrawer.CircleTool.prototype\n   * @return void\n   */\n  prepareTool () {\n    super.prepareTool()\n    this._nextShape = true\n  }\n\n  /**\n   * @summary Handles the click event over the map when the tool is the drawing one\n   * @memberof geodrawer.CircleTool.prototype\n   * @return void\n   */\n  clickHandler (evt) {\n    // if next shape && maximum shape number is not reached\n    if (this._nextShape && this._state.items.length < this._options.maxItemsAllowed) {\n      let circle = new google.maps.Circle({\n        center: evt.latLng,\n        map: this._map.gmap(),\n        radius: 1,\n        editable: true\n      })\n      this._drawingCircle = true\n\n      // enlarge\n      this._mapMoveListener = google.maps.event.addListener(this._map.gmap(), 'mousemove', (evt2) => {\n        circle.setRadius(this.distance(evt.latLng, evt2.latLng))\n      })\n      // reduce\n      this._circleMoveListener = google.maps.event.addListener(circle, 'mousemove', (evt2) => {\n        circle.setRadius(this.distance(evt.latLng, evt2.latLng))\n      })\n      // end\n\n      google.maps.event.addListenerOnce(circle, 'click', (evt2) => {\n        google.maps.event.removeListener(this._mapMoveListener)\n        google.maps.event.removeListener(this._circleMoveListener)\n        this._drawingCircle = false\n      })\n\n      this._state.items.push(circle)\n\n      // right click to delete one\n      google.maps.event.addListener(circle, 'rightclick', () => {\n        circle.setMap(null)\n        this._state.items.splice(this._state.items.indexOf(circle), 1)\n        this._nextShape = true // otherwise next click will populate the last polyline\n      })\n    } else if (!this._drawingCircle && this._state.items.length >= this._options.maxItemsAllowed) {\n      console.info('maximum number of circles reached')\n      alert('Maximum number of insertable circles reached')\n      return null\n    } else {\n      // currently drawing\n      google.maps.event.removeListener(this._mapMoveListener)\n      google.maps.event.removeListener(this._circleMoveListener)\n      this._drawingCircle = false\n    }\n  }\n\n  /**\n   * @summary Clears all circles\n   * @memberof geodrawer.CircleTool.prototype\n   * @return void\n   */\n  clear () {\n    this._state.items.forEach((circle) => {\n      circle.setMap(null)\n    })\n    this._state.items = []\n    console.info('circles cleared')\n  }\n\n  /**\n   * @summary Returns the distance between 2 google.maps.LatLng points\n   * @memberof geodrawer.CircleTool.prototype\n   * @param {google.maps.LatLng} point1 The first point\n   * @param {google.maps.LatLng} point2 The second point\n   * @return {Number} The distance in meters\n   */\n  distance (point1, point2) {\n    let R = 6371000 // earth's radius in meters\n    let dLat = (point2.lat() - point1.lat()) * Math.PI / 180\n    let dLon = (point2.lng() - point1.lng()) * Math.PI / 180\n    let a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n      Math.cos(point1.lat() * Math.PI / 180) * Math.cos(point2.lat() * Math.PI / 180) *\n      Math.sin(dLon / 2) * Math.sin(dLon / 2)\n    let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))\n    let d = R * c\n\n    return d\n  }\n\n  /**\n   * @summary Returns all the drawn circles data\n   * @memberof geodrawer.CircleTool.prototype\n   * @return {Array} data An array objects representing the circle's properties\n   * @example\n   *    [{lat: 45, lng: 7, radius: 40000}, {lat: 35, lng: 15, radius: 650000}]\n   */\n  exportData () {\n    let data = this._state.items.map(\n      (circle) => ({lat: circle.getCenter().lat(), lng: circle.getCenter().lng(), radius: circle.getRadius()})\n    )\n    return data\n  }\n\n  /**\n   * @summary Imports all data as circles\n   * @memberof geodrawer.CircleTool.prototype\n   * @param {Array} data An array objects representing the circle's properties\n   */\n  importData (data) {\n    for (let i = 0; i < data.length; i++) {\n      let circle = data[i]\n      let dcircle = new google.maps.Circle({\n        center: new google.maps.LatLng(circle.lat, circle.lng),\n        map: this._map.gmap(),\n        radius: circle.radius,\n        editable: true\n      })\n\n      this.addItem(dcircle)\n    }\n  }\n\n  /**\n   * @summary Extends the map bounds to fit the circles\n   * @memberof geodrawer.CircleTool.prototype\n   * @param {google.maps.LatLngBounds} [bounds] the LatLngBounds object\n   */\n  extendBounds (bounds) {\n    this._state.items.forEach((circle) => {\n      bounds.extend(circle.getBounds())\n    })\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/CircleTool.js\n **/","import Dispatcher from 'EventDispatcher'\n\n/**\n * Library loader\n */\nconst Loader = {\n  /**\n   * Loads the library and emits an event when loaded\n   * The event emitted is 'geocoder-loaded'\n   */\n  load: function () {\n    this.checkGoogleMapsApi()\n    this.requirejQuery(() => {\n      console.info('geodrawer: library is ready')\n      Dispatcher.emit('geocoder-loaded')\n    })\n  },\n  /**\n   * Checks if the google maps API is loaded\n   */\n  checkGoogleMapsApi: function () {\n    if (!(typeof window.google === 'object' && typeof window.google.maps === 'object')) {\n      console.info('geodrawer: Google Maps API must be loaded at this point!')\n      throw new Error('Google Maps API are not loaded yet!')\n    }\n  },\n  /**\n   * Checks if jQuery is loaded, if not loads it, and then execute the cb\n   * @param {Function} then callback to execute after jQuery is fully loaded\n   */\n  requirejQuery (then) {\n    if (window.jQuery === undefined) {\n      console.info('geodrawer: loading jQuery')\n      let script = document.createElement('script')\n      script.type = 'text/javascript'\n      if (script.readyState) {  // IE\n        script.onreadystatechange = function () {\n          if (script.readyState === 'loaded' || script.readyState === 'complete') {\n            script.onreadystatechange = null\n            then.call(this)\n          }\n        }\n      } else {  // Others\n        script.onload = function () {\n          then.call(this)\n        }\n      }\n      script.src = 'https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js'\n      document.getElementsByTagName('head')[0].appendChild(script)\n    } else {\n      then()\n    }\n  }\n}\n\nexport default Loader\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/Loader.js\n **/","import {capitalize, sprintf} from 'utils'\nimport Tool from 'Tool'\n\n// default options\nconst _dftOpts = {\n  center: [45, 7],\n  zoom: 8,\n  tools: {},\n  fullscreen: true,\n  clearMapCtrl: 'default',\n  exportMapCtrl: 'default',\n  exportMapCb: null,\n  geocoderMapField: true,\n  tipsMapCtrl: 'default'\n}\n\n/**\n * @summary Google maps drawing class, provides tools for drawing over a google map canvas, and export drawn data.\n * @classdesc\n *      <p>This class handles the drawing tools used to draw over a google map and allows\n *      data exportation.</p>\n *      <p>The map manages also some controllers</p>\n *      <ul>\n *      <li>clear map controller</li>\n *      <li>export map controller</li>\n *      <li>geocoder text field controller</li>\n *      <li>tips controller</li>\n *      </ul>\n *      <p>Moreover every drawing tool has its own controller, which may be specifically set or used in\n *      its default form.</p>\n *      <p>Each map controller may be specified as custom, may be removed by setting the\n *      related option to <code>null</code> or used in its default form.</p>\n *      <p>Once instantiated the class and set the tools by options or instantiating direclty\n *      the drawing tool classes and adding them to the map,\n *      see {@link geodrawer.Map#addTool}, call the render method in order to render the widget.<br />\n *      It is possible to continue configuring the widget adding or removing tools and\n *      customize the google map instance which is returned by the {@link geodrawer.Map#gmap} method.</p>\n *      <p>When defining specific map controllers, be sure to make them handle the proper map methods.</p>\n *      <p>Very important: be sure to load the google maps library yourself in the head of the document!</p>\n *\n * @constructs geodrawer.Map\n * @param {Element|String} canvas\n *    The map container element as selector or jQuery element\n * @param {Object} [options]\n *    A class options object\n * @param {Array} [options.center=new Array(45, 7)]\n *    The initial map center coordinates, (lat, lng).\n * @param {Number} [options.zoom=8]\n *    The the initial map zoom level.\n * @param {Object} [options.tools={}]\n *    The object containing the tool's names and options to be activated\n *    when initializing the map.\n *    It's a shortcut to easily define set and active tools objects.\n * @param {Number} [options.fullscreen=true]\n *    Whether or not to enable fullscreen functionality\n * @param {Object} [options.tools.point=undefined]\n *    The point tool init object\n * @param {String|Element} [options.tools.point.ctrl=undefined]\n *    The selector or jQuery element\n *    which controls the tool, default the built-in menu voice\n * @param {Object} [options.tools.point.options=undefined]\n *    The tool options object,\n *    see {@link geodrawer.PointTool} for available properties\n * @param {Object} [options.tools.polyline=undefined]\n *    The polyline tool init object\n * @param {String|Element} [options.tools.polyline.ctrl=undefined]\n *    The selector or jQuery element which controls the tool,\n *    default the built-in menu voice\n * @param {Object} [options.tools.polyline.options=undefined]\n *    The tool options object, see {@link geodrawer.PolylineTool} for available properties\n * @param {Object} [options.tools.polygon=undefined]\n *    The polygon tool init object\n * @param {String|Element} [options.tools.polygon.ctrl=undefined]\n *    The selector or jQuery element which controls the tool, default the built-in menu voice\n * @param {Object} [options.tools.polygon.options=undefined]\n *    The tool options object, see {@link geodrawer.PolygonTool} for available properties\n * @param {Object} [options.tools.circle=undefined]\n *    The circle tool init object\n * @param {String|Element} [options.tools.circle.ctrl=undefined]\n *    The selctor or jQuery element which controls the tool, default the built-in menu voice\n * @param {Object} [options.tools.circle.options=undefined]\n *    The tool options object, see {@link geodrawer.CircleTool} for available properties\n * @param {String|Element} [options.clearMapCtrl='default']\n *    The clear map controller (clears all drawings over the map).\n *    If 'default' the built-in controller is used, if <code>null</code> the clear map\n *    functionality is removed. If id attribute or an element the clear map functionality is attached to the element.\n * @param {String|Element} [options.exportMapCtrl='default']\n *    The export map controller (exports all shapes drawed over the map).\n *    If 'default' the built-in controller is used, if <code>null</code> the export map\n *    functionality is removed. If id attribute or an element the clear map functionality is attached to the element.\n * @param {Function} [options.exportMapCb=null]\n *    The callback function to call when the export map button is pressed.\n *    The callback function receives one argument, the exported data as\n *    returned by the geodrawer.Map#exportMap method.\n * @param {Boolean} [options.geocoderMapField=true]\n *    Whether or not to add the gecoder functionality which allows to center the map in a point\n *    defined through an address, or to pass the lat,lng coordinates found to the map click handlers\n *    (exactly as click over the map in a lat,lng point).\n * @param {String|Element} [options.tipsMapCtrl='default']\n *    The help tips map controller (shows tips about drawing tools).\n *    If 'default' the built-in controller is used, if <code>null</code> the tips box is not shown,\n *    if id attribute or an element the functionality is attached to the element.\n *\n * @example\n * var mymap = new geodrawer.Map('my_map_canvas_id', {\n *   tools: {\n *     point: {\n *       options: {\n *         max_items: 5\n *       }\n *     },\n *     circle: {}\n *   }\n * });\n *\n */\nexport default class Map {\n\n  constructor (canvas, options) {\n    this._dom = {}\n    this._dom.canvas = jQuery(canvas).addClass('geodrawer-map-canvas')\n    // check canvas exists\n    if (!this._dom.canvas.length) {\n      throw new Error('Canvas container not found!')\n    }\n\n    // wrap canvas inside a container and add controllers container\n    this._dom.container = jQuery('<div />', {'class': 'geodrawer-container'})\n      .css({\n        width: this._dom.canvas.css('width')\n      })\n    this._dom.controllersContainer = jQuery('<div />', {'class': 'geodrawer-ctrls-container'})\n    this._dom.container = this._dom.canvas.wrap(this._dom.container)\n      .before(this._dom.controllersContainer)\n      .parent()\n\n    // let's extend default options\n    this._options = jQuery.extend({}, _dftOpts, options)\n\n    this._supportedTools = [\n      'point',\n      'polyline',\n      'polygon',\n      'circle'\n    ]\n\n    // internal state\n    this._state = {\n      drawingTool: null, // actual drawing tool\n      tools: [] // available tools\n    }\n\n    this._map = null\n    // when importing data we need bounds to fit them into the map\n    this._bounds = new google.maps.LatLngBounds()\n\n    // controllers\n    this._ctrlContainer = null\n    this._controllers = {\n      clearMap: null,\n      clearMapCb: null,\n      exportMap: null,\n      exportMapCb: null,\n      tipsMap: null,\n      geocoder: null,\n      geocoderField: null,\n      geocoderCenterButton: null,\n      geocoderDrawButton: null,\n      fullscreen: null\n    }\n\n    // check options!\n    this._processOptions()\n  };\n\n  /**\n   * Processes the options object setting properly some class properties\n   * @memberof geodrawer.Map.prototype\n   * @return void\n   */\n  _processOptions () {\n    // init tools\n    var self = this\n    this._supportedTools.reverse().forEach(\n      (toolName, index) => {\n        if (self._options.tools.hasOwnProperty(toolName)) {\n          var handler = null\n          var ctrl = self._options.tools[toolName].ctrl || null\n          // set tool\n          if (ctrl) {\n            handler = jQuery(ctrl)\n            if (!handler.length) {\n              throw new Error(sprintf('The given control handler for the {0} tool is not a DOM element', toolName))\n            }\n          }\n          // add the tool\n          self.addTool(\n            new geodrawer[capitalize(toolName) + 'Tool'](\n              self, handler, self._options.tools[toolName].options || null\n            )\n          )\n        }\n      }\n    )\n  }\n\n  /**\n   * Initializes the google map and its events\n   * @memberof geodrawer.Map.prototype\n   * @return void\n   */\n  _initMap () {\n    let mapCenter = new google.maps.LatLng(this._options.center[0], this._options.center[1])\n    let mapOptions = {\n      center: mapCenter,\n      zoom: this._options.zoom,\n      zoomControlOptions: {\n        style: google.maps.ZoomControlStyle.LARGE,\n        position: google.maps.ControlPosition.RIGHT_CENTER\n      },\n      panControl: false,\n      mapTypeControl: true,\n      mapTypeControlOptions: {\n        position: google.maps.ControlPosition.LEFT_BOTTOM\n      },\n      mapTypeId: google.maps.MapTypeId.ROADMAP\n    }\n\n    this._map = new google.maps.Map(this._dom.canvas[0], mapOptions)\n    this._geocoder = new google.maps.Geocoder()\n\n    google.maps.event.addListener(this._map, 'click', (evt) => {\n      this._mapClick(evt)\n    })\n  }\n\n  /**\n   * @summary Initializes all the map controllers\n   * @memberof geodrawer.Map.prototype\n   * @return void\n   */\n  _initControllers () {\n    if (this._options.clearMapCtrl) {\n      this._setClearMapController()\n    }\n\n    if (this._options.exportMapCtrl && this._options.exportMapCb) {\n      this._setExportMapController()\n    }\n\n    if (this._options.tipsMapCtrl) {\n      this._setTipsMapController()\n    }\n\n    if (this._options.geocoderMapField) {\n      this._setGeocoderMapFieldController()\n    }\n\n    if (this._options.fullscreen) {\n      this._setFullscreenController()\n    }\n  }\n\n  /**\n   * @summary Initializes the map set tools\n   * @memberof geodrawer.Map.prototype\n   * @return void\n   */\n  _initTools () {\n    for (let k in this._state.tools) {\n      if (this._supportedTools.indexOf(k) !== -1) {\n        this._state.tools[k].activate()\n      }\n    }\n  }\n\n  /**\n   * @summary Sets the clear map controller depending on the options.clearMapCtrl value\n   * @memberof geodrawer.Map.prototype\n   * @return void\n   */\n  _setClearMapController () {\n    if (this._options.clearMapCtrl === 'default') {\n      this._controllers.clearMap = jQuery('<div />', {'class': 'geodrawer-ctrls-clear_map'})\n        .text('clear map')\n       .appendTo(this._dom.controllersContainer)\n    } else if (this._options.clearMapCtrl) {\n      this._controllers.clearMap = jQuery(this._options.clearMapCtrl)\n      if (!this._controllers.clearMap) {\n        throw new Error('The given clear map controller is not a DOM element')\n      }\n    }\n    this._controllers.clearMapCb = this.clearMap.bind(this)\n    this._controllers.clearMap.on('click', this._controllers.clearMapCb)\n  }\n\n  /**\n   * @summary Removes the clear map event and the controller if the default one\n   * @memberof geodrawer.Map.prototype\n   * @return void\n   */\n  _removeClearMapController () {\n    // @TODO check me\n    this._controllers.clearMap.off('click', null, this._controllers.clearMapCb)\n    if (this._options.clearMapCtrl === 'default') {\n      this._controllers.clearMap.remove()\n    }\n  }\n\n  /**\n   * @summary Sets the export map controller depending on the options.export_map_ctrl value\n   * @memberof geodrawer.Map.prototype\n   * @return void\n   */\n  _setExportMapController () {\n    if (this._options.exportMapCtrl === 'default') {\n      this._controllers.exportMap = jQuery('<div />', {'class': 'geodrawer-ctrls-export_map'})\n        .text('export map')\n        .appendTo(this._dom.controllersContainer)\n    } else if (this._options.exportMapCtrl) {\n      this._controllers.exportMap = jQuery(this._options.exportMapCtrl)\n      if (!this._controllers.exportMap.length) {\n        throw new Error('The given export map controller is not a DOM element')\n      }\n    }\n\n    this._controllers.exportMapCb = function () { this._options.exportMapCb(this.exportMap()) }.bind(this)\n    this._controllers.exportMap.on('click', this._controllers.exportMapCb)\n  }\n\n  /**\n   * @summary Removes the export map event and the controller if the default one\n   * @memberof geodrawer.Map.prototype\n   * @return void\n   */\n  _removeExportMapController () {\n    this._controllers.exportMap.off('click', null, this._controllers.exportMapCb)\n    if (this._options.exportMapCtrl === 'default') {\n      this._controllers.exportMap.remove()\n    }\n  }\n\n  /**\n   * @summary Sets the help tips map controller depending on the options.tips_map_ctrl value\n   * @memberof geodrawer.Map.prototype\n   * @method\n   * @protected\n   * @return void\n   */\n  _setTipsMapController () {\n    if (this._options.tipsMapCtrl === 'default') {\n      this._controllers.tipsMap = jQuery('<div />', {'class': 'geodrawer-ctrls-tips_map'})\n        .appendTo(this._dom.controllersContainer)\n    } else if (this._options.tipsMapCtrl) {\n      this._controllers.tipsMap = jQuery(this._options.tipsMapCtrl)\n      if (!this._controllers.tipsMap.length) {\n        throw new Error('The given tips map controller is not a DOM element')\n      }\n    }\n\n    if (this._controllers.tipsMap.length) {\n      this.updateTips(this._initMapTips())\n    }\n  }\n\n  /**\n   * @summary Removes the tips map controller if the default one\n   * @memberof geodrawer.Map.prototype\n   * @return void\n   */\n  _removeTipsMapController () {\n    if (this._options.tipsMapCtrl === 'default') {\n      this._controllers.tipsMap.remove()\n    }\n  }\n\n  /**\n   * @summary Sets the geocoder input text field and its controllers\n   * @memberof geodrawer.Map.prototype\n   * @return void\n   */\n  _setGeocoderMapFieldController () {\n    this._controllers.geocoderField = jQuery('<input />', {\n      'class': 'geodrawer-ctrls-geocoder_field',\n      type: 'text',\n      placeholder: 'insert an address'\n    })\n\n    this._controllers.geocoderCenterButton = jQuery('<input />', {\n      'class': 'geodrawer-ctrls-geocoder_center_button',\n      type: 'button',\n      value: 'set map center'\n    })\n\n    this._controllers.geocoderDrawButton = jQuery('<input />', {\n      'class': 'geodrawer-ctrls-geocoder_draw_button',\n      type: 'button',\n      value: 'draw'\n    })\n\n    this._controllers.geocoderCenterButton.on('click', this.geocoderCenter.bind(this))\n    this._controllers.geocoderDrawButton.on('click', this.geocoderDraw.bind(this))\n\n    this._dom.controllersContainer.append(\n      this._controllers.geocoderField,\n      this._controllers.geocoderCenterButton,\n      this._controllers.geocoderDrawButton\n    )\n  }\n\n  /**\n   * @summary Removes the geocoder input text field and its controllers\n   * @memberof geodrawer.Map.prototype\n   * @return void\n   */\n  _removeGeocoderMapField () {\n    this._controllers.geocoderCenterButton.off()\n    this._controllers.geocoderDrawButton.off()\n    this._controllers.geocoderField.remove()\n    this._controllers.geocoderCenterButton.remove()\n    this._controllers.geocoderDrawButton.remove()\n  }\n\n  /**\n   * @summary Sets the fullscreen controller\n   * @memberof geodrawer.Map.prototype\n   * @return void\n   */\n  _setFullscreenController () {\n    this._controllers.fullscreen = jQuery('<div />', {\n      'class': 'geodrawer-ctrls-fullscreen'\n    }).text('fullscreen')\n      .appendTo(this._dom.controllersContainer)\n      .on('click', () => {\n        this._dom.container.toggleClass('geodrawer-fullscreen')\n        google.maps.event.trigger(this._map, 'resize')\n      })\n  }\n\n  /**\n   * @summary Removes the fullscreen controller\n   * @memberof geodrawer.Map.prototype\n   * @return void\n   */\n  _removeFullscreenController () {\n    this._controllers.fullscreen.off()\n    this._controllers.fullscreen.remove()\n  }\n\n  /**\n   * @summary Returns the init text shown in the tips controller\n   * @memberof geodrawer.Map.prototype\n   * @return {String} text The initial tip text\n   */\n  _initMapTips () {\n    return 'Displays help tips about drawing tools'\n  }\n\n  /**\n   * @summary Handles the click event over the map, calling the active tool handler\n   * @memberof geodrawer.Map.prototype\n   * @param {Object} point The callback parameter returned by the google.maps event handler\n   * @return void\n   */\n  _mapClick (point) {\n    if (this._state.drawingTool === null) {\n      return false\n    }\n    this._state.drawingTool.clickHandler(point)\n  }\n\n  // PUBLIC METHODS (to be intended as public ;)\n\n  /**\n   * @summary Adds a drawing tool\n   * @memberof geodrawer.Map.prototype\n   * @param {geodrawer.Tool} tool The tool object\n   * @return void\n   */\n  addTool (tool) {\n    if (!(tool instanceof Tool)) {\n      throw new Error('The given tool object is not of the proper type')\n    }\n\n    let toolName = tool.getToolName()\n\n    if (this._supportedTools.indexOf(toolName) === -1) {\n      throw new Error(sprintf('The tool {0} is not supported', toolName))\n    }\n    this._state.tools[toolName] = tool\n  }\n\n  /**\n   * @summary Gets a tool object giving its name\n   * @memberof geodrawer.Map.prototype\n   * @param {String} toolName One of the supported tools name\n   * @return {geodrawer.Tool | null} The tool object if set or null\n   */\n  getTool (toolName) {\n    if (this._supportedTools.indexOf(toolName) === -1) {\n      throw new Error(sprintf('The {0} tool is not supported', toolName))\n    }\n    return this._state.tools[toolName]\n  }\n\n  /**\n   * @summary Removes a drawing tool\n   * @memberof geodrawer.Map.prototype\n   * @param {String} toolName The name of the tool to be removed\n   * @param {geodrawer.Tool} tool The tool object\n   * @return void\n   */\n  removeTool (toolName) {\n    if (this._supportedTools.indexOf(toolName) === -1) {\n      throw new Error(sprintf('The {0} tool is not supported', toolName))\n    }\n    if (this._state.tools[toolName]) {\n      this._state.tools[toolName].deactivate(true)\n      delete this._state.tools[toolName]\n    }\n  }\n\n  /**\n   * @summary Gets the active drawing tool\n   * @memberof geodrawer.Map.prototype\n   * @return {geodrawer.Tool} The drawing tool\n   */\n  getDrawingTool () {\n    return this._state.drawingTool\n  }\n\n  /**\n   * @summary Sets the active drawing tool name\n   * @memberof geodrawer.Map.prototype\n   * @param {geodrawer.Tool|null} tool The actual drawing tool, null to have no active tool\n   * @return void\n   */\n  setDrawingTool (tool) {\n    if (tool != null && !this._state.tools.hasOwnProperty(tool.getToolName())) {\n      throw new Error('Can\\'t set the drawing tool since it\\'s not active')\n    }\n    this._state.drawingTool = tool\n  }\n\n  /**\n   * @summary Renders the widget\n   * @memberof geodrawer.Map.prototype\n   * @return void\n   */\n  render () {\n    // map initialization\n    this._initMap()\n    // add controllers\n    this._initControllers()\n    // init tools\n    this._initTools()\n  }\n\n  /**\n   * @summary Adds a controller in the default controllers container\n   * @memberof geodrawer.Map.prototype\n   * @param {Object} ctrl The jQuery controller element to be added\n   * @return void\n   */\n  addDefaultCtrl (ctrl) {\n    if (!ctrl.length) {\n      throw new Error('The given controller is not an element')\n    }\n    ctrl.prependTo(this._dom.controllersContainer)\n  }\n\n  /**\n   * @summary Clears the map\n   * @memberof geodrawer.Map.prototype\n   * @return void\n   */\n  clearMap () {\n    for (let k in this._state.tools) {\n      if (this._supportedTools.indexOf(k) !== -1) {\n        this._state.tools[k].clear()\n      }\n    }\n    console.info('geodrawer: map cleared')\n  }\n\n  /**\n   * @summary Updates the text displayed in the tips controller\n   * @memberof geodrawer.Map.prototype\n   * @param {String} html The tip text\n   * @return void\n   */\n  updateTips (html) {\n    if (this._controllers.tipsMap.length) {\n      this._controllers.tipsMap.html(html)\n    }\n  }\n\n  /**\n   * @summary Returns the google map instance google.maps.Map\n   * @memberof geodrawer.Map.prototype\n   * @description The google map class instance allows to customize direclty some map properties using\n   *              the google.maps.Map public interface\n   * @return {google.maps.Map} The google map instance\n   */\n  gmap () {\n    return this._map\n  }\n\n  /**\n   * @summary Sets the center of the map\n   * @memberof geodrawer.Map.prototype\n   * @param {Array} center The [lat, lng] coordinates array\n   * @return void\n   */\n  setCenter (center) {\n    this._options.center = center\n    if (this._map) {\n      this._map.setCenter(new google.maps.LatLng(center[0], center[1]))\n    }\n  }\n\n  /**\n   * @summary Sets the zoom of the map\n   * @memberof geodrawer.Map.prototype\n   * @param {Number} zoom The zoom level\n   * @return void\n   */\n  setZoom (zoom) {\n    this._options.zoom = zoom\n    if (this._map) {\n      this._map.setZoom(zoom)\n    }\n  }\n\n  /**\n   * @summary Sets the clear map controller\n   * @memberof geodrawer.Map.prototype\n   * @param {String|Element} ctrl\n   *    The clear map controller.\n   *    If 'default' the built-in controller is used, if <code>null</code> the clear map\n   *    functionality is removed. If selctor or jQuery element the clear map functionality\n   *    is attached to the element.\n   * @return void\n   */\n  setClearMapCtrl (ctrl) {\n    if (ctrl !== this._options.clearMapCtrl) {\n      this._removeClearMapController()\n    }\n    this._options.clearMapCtrl = ctrl\n    this._setClearMapController()\n  }\n\n  /**\n   * @summary Sets the export map controller\n   * @memberof geodrawer.Map.prototype\n   * @param {String|Element} ctrl\n   *    The clear map controller.\n   *    If 'default' the built-in controller is used, if <code>null</code> the export map\n   *    functionality is removed. If selctor or jQuery element the export map functionality\n   *    is attached to the element.\n   * @return void\n   */\n  setExportMapCtrl (ctrl) {\n    if (ctrl !== this._options.exportMapCtrl) {\n      this._removeExportMapController()\n    }\n    this._options.exportMapCtrl = ctrl\n    this._setExportMapController()\n  }\n\n  /**\n   * @summary Sets the geocoder map field option\n   * @memberof geodrawer.Map.prototype\n   * @param {Boolean} activate Whether or not to activate the geocoder functionality\n   * @return void\n   */\n  setGeocoderMapField (activate) {\n    this._options.geocoderMapField = activate\n    if (!activate) {\n      this._removeGeocoderMapField()\n    } else {\n      this._setGeocoderMapFieldController()\n    }\n  }\n\n  /**\n   * @summary Sets the tips map controller\n   * @memberof geodrawer.Map.prototype\n   * @param {String|Element} ctrl\n   *    The help tips map controller (shows tips about drawing tools).\n   *    If 'default' the built-in controller is used, if <code>null</code> the tips box is not shown,\n   *    if selector or jQuery element the functionality is attached to the element\n   * @return void\n   */\n  setTipsMapCtrl (ctrl) {\n    if (ctrl !== this._options.tipsMapCtrl) {\n      this._removeTipsMapController()\n    }\n    this._options.tipsMapCtrl = ctrl\n    this._setTipsMapController()\n  }\n\n  /**\n   * @summary Sets the fullscreen option\n   * @memberof geodrawer.Map.prototype\n   * @param {Boolean} activate Whether or not to activate the fullscreen functionality\n   * @return void\n   */\n  setFullscreen (activate) {\n    this._options.fullscreen = activate\n    if (!activate) {\n      this._removeFullscreenController()\n    } else {\n      this._setFullscreenController()\n    }\n  }\n\n  /**\n   * @summary Exports the map drawed shapes as data points\n   * @memberof geodrawer.Map.prototype\n   * @return {Object} data The drawed data\n   * @example\n   * {\n   *  'point': [\n   *    {lat: 45, lng: 12},\n   *    {lat: 43, lng: 16}\n   *  ],\n   *  'polyline': [\n   *    [\n   *      {lat: 45, lng: 12},\n   *      {lat: 42, lng: 12},\n   *      {lat: 42.6, lng: 11}\n   *    ],\n   *    [\n   *      {lat: 36.7, lng: 11.2},\n   *      {lat: 39, lng: 12}\n   *    ],\n   *  ],\n   *  'circle': [\n   *    {lat: 45, lng: 12, radius: 10000},\n   *    {lat: 44, lng: 11, radius: 230000}\n   *  ]\n   * }\n   */\n  exportMap () {\n    let data = {}\n    for (var k in this._state.tools) {\n      if (this._supportedTools.indexOf(k) !== -1) {\n        data[k] = this._state.tools[k].exportData()\n      }\n    }\n    console.info('geodrawer: exporting data')\n    return data\n  }\n\n  /**\n   * @summary Imports data\n   * @description Data must be in the same format as the exported ones, see {@link geodrawer.Map#exportMap}\n   * @memberof geodrawer.Map.prototype\n   * @param {Object} data The data object\n   */\n  importMap (data) {\n    this._supportedTools.forEach(\n      (toolName) => {\n        if (typeof data[toolName] !== 'undefined') {\n          if (this.getTool(toolName) === null) {\n            let Cls = capitalize(toolName) + 'Tool'\n            let ntool = new Cls(this, null)\n            this.addTool(ntool)\n            ntool.activate()\n          }\n          this.getTool(toolName).importData(data[toolName])\n          this.getTool(toolName).extendBounds(this._bounds)\n        }\n      }\n    )\n    this._map.fitBounds(this._bounds)\n  }\n\n  /**\n   * @summary Sets the map center converting the geocoderf ield input address in a LatLng point\n   * @memberof geodrawer.Map.prototype\n   * @return void\n   */\n  geocoderCenter () {\n    let self = this\n    let request = {\n      address: this._controllers.geocoderField.val()\n    }\n    this._geocoder.geocode(request, (results, status) => {\n      let result = results[0]\n      if (status === 'OK') {\n        self._map.setCenter(result.geometry.location)\n      } else {\n        console.log('geodrawer: geocoder response status: ' + status)\n        alert(status)\n      }\n    })\n  }\n\n  /**\n   * @summary Fires a map click in a LatLng point converted from the geocoder field input address\n   * @memberof geodrawer.Map.prototype\n   * @return void\n   */\n  geocoderDraw () {\n    let self = this\n    let request = {\n      address: this._controllers.geocoderField.val()\n    }\n\n    this._geocoder.geocode(request, (results, status) => {\n      let result = results[0]\n      if (status === 'OK') {\n        if (self._state.drawingTool === null) {\n          alert('select a drawing tool')\n        }\n        self._mapClick({\n          latLng: result.geometry.location\n        })\n      } else {\n        console.log('geodrawer: geocoder response status: ' + status)\n        alert(status)\n      }\n    })\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/Map.js\n **/","import Tool from 'Tool'\n\n/**\n * @summary Google maps drawing point tool class. Provides methods to draw over the {@link geodrawer.Map} instance\n * @classdesc <p>The point drawing tool class, which allows to draw points over the gmapdraw map instane.</p>\n * @constructs geodrawer.PointTool\n * @extends geodrawer.Tool\n * @param {geodrawer.Map} map The map instance which handles the tool\n * @param {String|Object} ctrl The selector or jQuery element which controls the tool when clicking over it\n * @param {Object} options A class options object\n * @param {Number} [options.max_items_allowed=1] The maximum number of shapes the tool may draw\n *\n */\nexport default class PointTool extends Tool {\n  constructor (map, ctrl, options) {\n    super(map, ctrl, 'point')\n    this._options = jQuery.extend({}, this._options, options)\n  }\n\n  /**\n   * @summary Returns the tool help tip text\n   * @memberof geodrawer.PointTool.prototype\n   * @return {String} The tips text\n   */\n  tipsText () {\n    return 'Click on the map to set draggable markers points. Right click on a marker to delete it'\n  }\n\n  /**\n   * @summary Handles the click event over the map when the tool is the drawing one\n   * @memberof geodrawer.PointTool.prototype\n   * @return void\n   */\n  clickHandler (evt) {\n    // maximum number of points reached\n    if (this._state.items.length >= this._options.maxItemsAllowed) {\n      console.info('geodrawer: maximum number of points drawed')\n      alert('Maximum number of insertable points reached')\n      return null\n    }\n\n    let marker = new google.maps.Marker({\n      position: evt.latLng,\n      draggable: true,\n      map: this._map.gmap()\n    })\n\n    this._state.items.push(marker)\n\n    let self = this\n    google.maps.event.addListener(marker, 'rightclick', () => {\n      marker.setMap(null)\n      self._state.items.splice(this._state.items.indexOf(marker), 1)\n    })\n\n    console.info('geodrawer: point drawn')\n  }\n\n  /**\n   * @summary Clears all drawed points\n   * @memberof geodrawer.PointTool.prototype\n   * @return void\n   */\n  clear () {\n    this._state.items.forEach((marker) => {\n      marker.setMap(null)\n    })\n    this._state.items = []\n    console.info('points cleared')\n  }\n\n  /**\n   * @summary Returns all the drawed points data\n   * @memberof geodrawer.PointTool.prototype\n   * @return {Array} data An array of objects representing the drawed points coordinates\n   * @example\n   *    [{lat: 45, lng: 7}, {lat: 33, lng: 15}, {lat: 42, lng: 5}]\n   */\n  exportData () {\n    let data = this._state.items.map(\n      (marker) => ({\n        lat: marker.getPosition().lat(),\n        lng: marker.getPosition().lng()\n      })\n    )\n\n    return data\n  }\n\n  /**\n   * @summary Imports the data as points\n   * @memberof geodrawer.PointTool.prototype\n   * @param {Array} data An array of objects representing the points coordinates\n   * @example\n   *    [{lat: 45, lng: 7}, {lat: 33, lng: 15}, {lat: 42, lng: 5}]\n   */\n  importData (data) {\n    for (let i = 0; i < data.length; i++) {\n      let point = data[i]\n      this.clickHandler({latLng: new google.maps.LatLng(point.lat, point.lng)})\n    }\n  }\n\n  /**\n   * @summary Extends the map bounds to fit the points\n   * @memberof geodrawer.PointTool.prototype\n   * @param {google.maps.LatLngBounds} [bounds] the LatLngBounds object\n   */\n  extendBounds (bounds) {\n    this._state.items.forEach((marker) => {\n      bounds.extend(marker.getPosition())\n    })\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/PointTool.js\n **/","import Tool from 'Tool'\n\n/**\n * @summary Google maps drawing polygon tool class. Provides methods to draw over the {@link geodrawer.Map} instance\n * @classdesc <p>The polygon drawing tool class, which allows to draw polygons over the gmapdraw map instance.</p>\n * @constructs geodrawer.PolygonTool\n * @extends geodrawer.Tool\n * @param {geodrawer.Map} map The map instance which handles the tool\n * @param {String|Object} ctrl The selector or the jQuery element which controls the tool when clicking over it\n * @param {Object} options A class options object\n * @param {Number} [options.maxItemsAllowed=1] The maximum number of shapes the tool may draw.\n *\n */\nexport default class PolygonTool extends Tool {\n\n  constructor (map, ctrl, options) {\n    super(map, ctrl, 'polygon')\n\n    this._activePolygonIndex = null\n    this._options = jQuery.extend({}, this._options, options)\n  }\n\n  /**\n   * @summary Returns the tool help tip text\n   * @memberof geodrawer.PolygonTool.prototype\n   * @return {String} The tips text\n   */\n  tipsText () {\n    return 'Click on the map to add polygon\\'s vertices, click the menu voice again to create a new shape.' +\n           ' Right click on existing polygons to delete them'\n  }\n\n  /**\n   * @summary Prepares the tool\n   * @memberof geodrawer.PolygonTool.prototype\n   * @return void\n   */\n  prepareTool () {\n    super.prepareTool()\n    this._nextShape = true\n  }\n\n  /**\n   * @summary Handles the click event over the map when the tool is the drawing one\n   * @memberof geodrawer.PolygonTool.prototype\n   * @return void\n   */\n  clickHandler (evt) {\n    // if next shape && maximum shape number is not reached\n    if (this._nextShape && this._state.items.length < this._options.maxItemsAllowed) {\n      let polygonPath = new google.maps.MVCArray([evt.latLng]) // store the point of the polyline\n      let polygon = new google.maps.Polygon({\n        editable: true,\n        path: polygonPath,\n        map: this._map.gmap()\n      })\n\n      let polygonItem = {\n        path: polygonPath,\n        shape: polygon\n      }\n      this._state.items.push(polygonItem)\n      this._activePolygonIndex = this._state.items.indexOf(polygonItem)\n\n      // right click to delete one\n      google.maps.event.addListener(polygon, 'rightclick', () => {\n        polygon.setMap(null)\n        this._state.items.splice(this._state.items.indexOf(polygonItem), 1)\n        this._activePolygonIndex-- // one item has been removed, indexes shift down\n        this._nextShape = true // otherwise next click will populate the last polyline\n      })\n\n      this._nextShape = false\n    } else if (this._nextShape) {\n      // maximum number exceeded\n      console.info('maximum number of polygons reached')\n      alert('Maximum number of insertable polygons reached')\n      return null\n    } else {\n      // add a point to the current polyline\n      this._state.items[this._activePolygonIndex].path.push(evt.latLng)\n    }\n  }\n\n  /**\n   * @summary Clears all polygons\n   * @memberof geodrawer.PolygonTool.prototype\n   * @return void\n   */\n  clear () {\n    this._state.items.forEach((polygon) => {\n      polygon.shape.setMap(null)\n    })\n    this._state.items = []\n    console.info('polygons cleared')\n  }\n\n  /**\n   * @summary Returns all the drawn polygons data\n   * @memberof geodrawer.PolygonTool.prototype\n   * @return {Array} data An array of arrays of objects representing the polygons' vertex coordinates\n   * @example\n   *    // two polygons, the first with 3 vertexes, the second with 4 vertexes.\n   *    [[{lat: 45, lng:7}, {lat:46, lng:7}, {lat: 42, lng: 11}],\n   *     [{lat: 42, lng: 11}, {lat: 41, lng: 10.8}, {lat: 44, lng: 8}, {lat: 33, lng: 12}]]\n   */\n  exportData () {\n    let data = this._state.items.map((polygon) => {\n      let darr = []\n      polygon.path.forEach((point, index) => {\n        darr.push({lat: point.lat(), lng: point.lng()})\n      })\n      return darr\n    })\n\n    return data\n  }\n\n  /**\n   * @summary Imports the data as polygons\n   * @memberof geodrawer.PolygonTool.prototype\n   * @param {Array} data An array of arrays of objects representing the polygons' vertex coordinates\n   */\n  importData (data) {\n    for (let i = 0; i < data.length; i++) {\n      var polygon = data[i]\n      this.prepareTool()\n      for (var ii = 0; ii < polygon.length; ii++) {\n        let point = polygon[ii]\n        this.clickHandler({latLng: new google.maps.LatLng(point.lat, point.lng)})\n      }\n    }\n  }\n\n  /**\n   * @summary Extends the map bounds to fit the polygons\n   * @memberof geodrawer.PolygonTool.prototype\n   * @param {google.maps.LatLngBounds} [bounds] the LatLngBounds object\n   */\n  extendBounds (bounds) {\n    this._state.items.forEach((polygon) => {\n      polygon.path.forEach((point, index) => {\n        bounds.extend(point)\n      })\n    })\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/PolygonTool.js\n **/","import Tool from 'Tool'\n\n/**\n * @summary Google maps drawing polyline tool class. Provides methods to draw over the {@link geodrawer.Map} instance\n * @classdesc <p>The polyline drawing tool class, which allows to draw polylines over the gmapdraw map instance.</p>\n * @constructs geodrawer.PolylineTool\n * @extends geodrawer.Tool\n * @param {geodrawer.Map} map The map instance which handles the tool\n * @param {String|Object} ctrl The selector or jQuery element which controls the tool when clicking over it\n * @param {Object} options A class options object\n * @param {Number} [options.maxItemsAllowed=1] The maximum number of shapes the tool may draw.\n *\n */\nexport default class PolylineTool extends Tool {\n\n  constructor (map, ctrl, options) {\n    super(map, ctrl, 'polyline')\n\n    this._activePolylineIndex = null\n    this._options = jQuery.extend({}, this._options, options)\n  }\n\n  /**\n   * @summary Returns the tool help tip text\n   * @memberof geodrawer.PolylineTool.prototype\n   * @return {String} The tips text\n   */\n  tipsText () {\n    return 'Click on the map to add polyline points, click the menu voice again to create a new polyline. ' +\n           'Right click on existing polylines to delete them'\n  }\n\n  /**\n   * @summary Prepares the tool\n   * @memberof geodrawer.PolylineTool.prototype\n   * @return void\n   */\n  prepareTool () {\n    super.prepareTool()\n    this._nextShape = true\n  }\n\n  /**\n   * @summary Handles the click event over the map when the tool is the drawing one\n   * @memberof geodrawer.PolylineTool.prototype\n   * @return void\n   */\n  clickHandler (evt) {\n    // if next shape && maximum shape number is not reached\n    if (this._nextShape && this._state.items.length < this._options.maxItemsAllowed) {\n      let polylinePath = new google.maps.MVCArray([evt.latLng]) // store the point of the polyline\n      let polyline = new google.maps.Polyline({\n        editable: true,\n        path: polylinePath,\n        map: this._map.gmap()\n      })\n\n      let polylineItem = {\n        path: polylinePath,\n        shape: polyline\n      }\n      this._state.items.push(polylineItem)\n      this._activePolylineIndex = this._state.items.indexOf(polylineItem)\n\n      // right click to delete one\n      google.maps.event.addListener(polyline, 'rightclick', () => {\n        polyline.setMap(null)\n        this._state.items.splice(this._state.items.indexOf(polylineItem), 1)\n        this._activePolylineIndex-- // one item has been removed, indexes shift down\n        this._nextShape = true // otherwise next click will populate the last polyline\n      })\n\n      this._nextShape = false\n    } else if (this._nextShape) {\n      // maximum number exceeded\n      console.info('maximum number of polylines reached')\n      alert('Maximum number of insertable polylines reached')\n      return null\n    } else {\n      // add a point to the current polyline\n      this._state.items[this._activePolylineIndex].path.push(evt.latLng)\n    }\n  }\n\n  /**\n   * @summary Clears all polylines\n   * @memberof geodrawer.PolylineTool.prototype\n   * @return void\n   */\n  clear () {\n    this._state.items.forEach((polyline) => {\n      polyline.shape.setMap(null)\n    })\n    this._state.items = []\n    console.info('polylines cleared')\n  }\n\n  /**\n   * @summary Returns all the drawn polylines data\n   * @memberof geodrawer.PolylineTool.prototype\n   * @return {Array} data An array of arrays of objects representing the polylines' points coordinates\n   * @example\n   *    // two polylines, the first with 2 points, the second with 3 points.\n   *    [[{lat: 45, lng:7}, {lat:46, lng:7}], [{lat: 42, lng: 11}, {lat: 41, lng: 10.8}, {lat: 44, lng: 8}]]\n   */\n  exportData () {\n    let data = this._state.items.map((polyline) => {\n      let darr = []\n      polyline.path.forEach((point, index) => {\n        darr.push({lat: point.lat(), lng: point.lng()})\n      })\n      return darr\n    })\n\n    return data\n  }\n\n  /**\n   * @summary Imports the data as polylines\n   * @memberof geodrawer.PolylineTool.prototype\n   * @param {Array} data An array of arrays of objects representing the polylines' points coordinates\n   */\n  importData (data) {\n    for (let i = 0; i < data.length; i++) {\n      let polyline = data[i]\n      this.prepareTool()\n      for (let ii = 0; ii < polyline.length; ii++) {\n        let point = polyline[ii]\n        this.clickHandler({latLng: new google.maps.LatLng(point.lat, point.lng)})\n      }\n    }\n  }\n\n  /**\n   * @summary Extends the map bounds to fit the polylines\n   * @memberof geodrawer.PolylineTool.prototype\n   * @param {google.maps.LatLngBounds} [bounds] the LatLngBounds object\n   */\n  extendBounds (bounds) {\n    this._state.items.forEach((polyline) => {\n      polyline.path.forEach((point, index) => {\n        bounds.extend(point)\n      })\n    })\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/PolylineTool.js\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".geodrawer-container{background:#000;border:2px solid #000;color:#fff}.geodrawer-container [class^=geodrawer-ctrl-]{display:inline-block;height:30px;width:30px}.geodrawer-container .geodrawer-ctrl-point-tool{background:url(\" + require(\"../svg/ic_point.svg\") + \") no-repeat 50%;background-size:cover}.geodrawer-fullscreen{height:100%;left:0;position:fixed;top:0;width:100%!important}.geodrawer-fullscreen .geodrawer-ctrls-container{background:#000;position:absolute;top:0;width:100%;z-index:101}.geodrawer-fullscreen .geodrawer-map-canvas{height:100%!important;z-index:100}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/sass-loader!./src/scss/base.scss\n ** module id = 10\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 11\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 12\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./base.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./base.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./base.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/scss/base.scss\n ** module id = 13\n ** module chunks = 0\n **/","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOC4xLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGl2ZWxsb18xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDE1MCAxNTAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDE1MCAxNTAiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjE1MCIgaGVpZ2h0PSIxNTAiLz4NCgk8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNNzUsMTVjLTIzLjE5LDAtNDIsMTguODEtNDIsNDJjMCwzMS41LDQyLDc4LDQyLDc4czQyLTQ2LjUsNDItNzhDMTE3LDMzLjgxLDk4LjE5LDE1LDc1LDE1eiBNNzUsNzINCgkJYy04LjI4LDAtMTUtNi43Mi0xNS0xNXM2LjcyLTE1LDE1LTE1czE1LDYuNzIsMTUsMTVTODMuMjgsNzIsNzUsNzJ6Ii8+DQo8L2c+DQo8L3N2Zz4NCg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/svg/ic_point.svg\n ** module id = 14\n ** module chunks = 0\n **/"],"sourceRoot":""}